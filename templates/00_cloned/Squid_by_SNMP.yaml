zabbix_export:
  version: '7.4'
  template_groups:
    - uuid: f10fc491a20f4d0983147fe4c6d7c361
      name: Templates
  templates:
    - uuid: 79a51d3a4d704fbeac2d66bcc4c66006
      template: 'Squid by SNMP'
      name: 'Squid by SNMP'
      description: |
        Template for monitoring Squid caching proxy via SNMP
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/409339-discussion-thread-for-official-zabbix-template-squid
        
        Generated by official Zabbix template tool "Templator"
      groups:
        - name: Templates
      items:
        - uuid: 02a18615b6464934ac2654d74eca32c3
          name: 'Service ping'
          type: SIMPLE
          key: 'net.tcp.service[tcp,,{$SQUID.HTTP.PORT}]'
          valuemap:
            name: 'Service state'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 10m
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: cbd5c9ac4dfe4c83a50cc52762ca779f
              expression: 'last(/Squid by SNMP/net.tcp.service[tcp,,{$SQUID.HTTP.PORT}])=0'
              name: 'Squid: Port {$SQUID.HTTP.PORT} is down'
              priority: AVERAGE
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: availability
        - uuid: 1055b3cefbae4bddbc8fdcc9eca0b369
          name: 'CPU usage'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.5.0]'
          key: 'squid[cacheCpuUsage]'
          value_type: FLOAT
          units: '%'
          description: 'The percentage use of the CPU'
          tags:
            - tag: component
              value: cpu
        - uuid: 31a953f88a94471a84e7ab988cb3a727
          name: 'File descriptor count - current used'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.12.0]'
          key: 'squid[cacheCurrentFileDescrCnt]'
          value_type: FLOAT
          description: 'Number of file descriptors in use'
          tags:
            - tag: component
              value: system
        - uuid: 787ae895ebf143a288f10991584bf161
          name: 'File descriptor count - current maximum'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.13.0]'
          key: 'squid[cacheCurrentFileDescrMax]'
          value_type: FLOAT
          description: 'Highest number of file descriptors in use'
          tags:
            - tag: component
              value: system
        - uuid: 575147b8d0c0477c851e93572ed8795a
          name: 'Objects LRU expiration age'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.8.0]'
          key: 'squid[cacheCurrentLRUExpiration]'
          value_type: FLOAT
          units: s
          description: 'Storage LRU Expiration Age'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: objects
        - uuid: f30878bc592a4f74a7dbb910bf2920df
          name: 'File descriptor count - current reserved'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.11.0]'
          key: 'squid[cacheCurrentResFileDescrCnt]'
          value_type: FLOAT
          description: 'Reserved number of file descriptors'
          tags:
            - tag: component
              value: system
        - uuid: 7d0d956552674bffac25b623bdc3a55f
          name: 'Cache swap current size'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.14.0]'
          key: 'squid[cacheCurrentSwapSize]'
          value_type: FLOAT
          units: B
          description: 'Storage Swap Size'
          tags:
            - tag: component
              value: memory
            - tag: component
              value: storage
        - uuid: 52bbb43995474402b0c47cc08de3683a
          name: 'Objects unlinkd requests'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.9.0]'
          key: 'squid[cacheCurrentUnlinkRequests]'
          value_type: FLOAT
          description: 'Requests given to unlinkd'
          tags:
            - tag: component
              value: objects
        - uuid: e08aece7229a45e080c5a40e7c6f6b1a
          name: 'File descriptor count - current available'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.10.0]'
          key: 'squid[cacheCurrentUnusedFDescrCnt]'
          value_type: FLOAT
          description: 'Available number of file descriptors'
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 927d69c2ca2347389375ba0708442f60
              expression: 'last(/Squid by SNMP/squid[cacheCurrentUnusedFDescrCnt])<{$SQUID.FILE.DESC.WARN.MIN}'
              name: 'Squid: Squid is running out of file descriptors'
              event_name: 'Squid: Squid is running out of file descriptors (<{$SQUID.FILE.DESC.WARN.MIN})'
              priority: WARNING
              tags:
                - tag: scope
                  value: performance
        - uuid: 715c1c46268e4d0ea37a185ea26b2bba
          name: 'DNS server replies per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.3.2.0]'
          key: 'squid[cacheDnsReplies]'
          value_type: FLOAT
          description: 'Number of external dns server replies'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: dns
            - tag: component
              value: replies
        - uuid: a2c2c2bbecee4d8c9c38d8297fe63813
          name: 'DNS server requests per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.3.1.0]'
          key: 'squid[cacheDnsRequests]'
          value_type: FLOAT
          description: 'Number of external dns server requests'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: dns
            - tag: component
              value: requests
        - uuid: 1673e6fb2b764d35b8ad4b4720cfe9f7
          name: 'DNS service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.8.5]'
          key: 'squid[cacheDnsSvcTime.5]'
          value_type: FLOAT
          units: s
          description: 'DNS service time per 5 minutes'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: dns
        - uuid: bf5da47ffcb54368bc6e19f2b3d0b10d
          name: 'DNS service time per hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.8.60]'
          key: 'squid[cacheDnsSvcTime.60]'
          value_type: FLOAT
          units: s
          description: 'DNS service time per hour'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: dns
        - uuid: 64c3c9318b274310a1edf903382430bd
          name: 'FQDN cache hits per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.2.3.0]'
          key: 'squid[cacheFqdnHits]'
          value_type: FLOAT
          description: 'Number of FQDN Cache hits'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: dns
            - tag: component
              value: hits
        - uuid: 84fb68e8b23f4c81a741310d9252bcad
          name: 'FQDN cache misses per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.2.6.0]'
          key: 'squid[cacheFqdnMisses]'
          value_type: FLOAT
          description: 'Number of FQDN Cache misses'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: dns
            - tag: component
              value: misses
        - uuid: 697e40e23f384ec7926613a0c9776ad0
          name: 'FQDN cache requests per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.2.2.0]'
          key: 'squid[cacheFqdnRequests]'
          value_type: FLOAT
          description: 'Number of FQDN Cache requests'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: dns
            - tag: component
              value: requests
        - uuid: 52e3683798f0403c8a6884a5b8304ac1
          name: 'HTTP all service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.2.5]'
          key: 'squid[cacheHttpAllSvcTime.5]'
          value_type: FLOAT
          units: s
          description: 'HTTP all service time per 5 minutes'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: http
        - uuid: aedf950add034d118701fd7ff256f784
          name: 'HTTP all service time per hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.2.60]'
          key: 'squid[cacheHttpAllSvcTime.60]'
          value_type: FLOAT
          units: s
          description: 'HTTP all service time per hour'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: http
        - uuid: c84a8e94c70c4d0d995b658db573d074
          name: 'HTTP Errors sent per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.3.0]'
          key: 'squid[cacheHttpErrors]'
          value_type: FLOAT
          description: 'Number of HTTP Errors sent to clients'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: errors
            - tag: component
              value: http
        - uuid: 4a6cd07fa3454e64b2673bab580a0165
          name: 'HTTP hit service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.5.5]'
          key: 'squid[cacheHttpHitSvcTime.5]'
          value_type: FLOAT
          units: s
          description: 'HTTP hit service time per 5 minutes'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: hits
            - tag: component
              value: http
        - uuid: 9b7723a720724df88a894c3905de8a83
          name: 'HTTP hit service time per hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.5.60]'
          key: 'squid[cacheHttpHitSvcTime.60]'
          value_type: FLOAT
          units: s
          description: 'HTTP hit service time per hour'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: hits
            - tag: component
              value: http
        - uuid: a7936b2e5e094a38a33057e752dd9d39
          name: 'HTTP Hits sent from cache per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.2.0]'
          key: 'squid[cacheHttpHits]'
          value_type: FLOAT
          description: 'Number of HTTP Hits sent to clients from cache'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: hits
            - tag: component
              value: http
        - uuid: 597e991e679f4e6a88829a3eb7185edf
          name: 'HTTP traffic received per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.4.0]'
          key: 'squid[cacheHttpInKb]'
          value_type: FLOAT
          units: Bps
          description: 'Number of HTTP traffic received from clients'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1024'
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: http
            - tag: component
              value: network
        - uuid: c0d16061f6144eceb3e195bc9e06d7a9
          name: 'HTTP miss service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.3.5]'
          key: 'squid[cacheHttpMissSvcTime.5]'
          value_type: FLOAT
          units: s
          description: 'HTTP miss service time per 5 minutes'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: http
            - tag: component
              value: misses
        - uuid: ecdd9ba5894c4fcdaef3bb35533b6d15
          name: 'HTTP miss service time per hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.3.60]'
          key: 'squid[cacheHttpMissSvcTime.60]'
          value_type: FLOAT
          units: s
          description: 'HTTP miss service time per hour'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: http
            - tag: component
              value: misses
        - uuid: 433375c7d846459387438f909db94405
          name: 'HTTP traffic sent per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.5.0]'
          key: 'squid[cacheHttpOutKb]'
          value_type: FLOAT
          units: Bps
          description: 'Number of HTTP traffic sent to clients'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1024'
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: http
            - tag: component
              value: network
        - uuid: 5001ef929be94552a12c99bf2e079c8c
          name: 'ICP traffic received per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.9.0]'
          key: 'squid[cacheIcpKbRecv]'
          value_type: FLOAT
          units: Bps
          description: 'Number of ICP traffic received'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1024'
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: icp
            - tag: component
              value: network
        - uuid: 8491ae6fbd804b7facf1bdd078459b95
          name: 'ICP traffic transmitted per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.8.0]'
          key: 'squid[cacheIcpKbSent]'
          value_type: FLOAT
          units: Bps
          description: 'Number of ICP traffic transmitted'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1024'
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: icp
            - tag: component
              value: network
        - uuid: ba727e4a69d84bec82672351d81ad3f3
          name: 'ICP messages received per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.7.0]'
          key: 'squid[cacheIcpPktsRecv]'
          value_type: FLOAT
          description: 'Number of ICP messages received'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: icp
        - uuid: 767a7f763ab64ec991944baf26e48e46
          name: 'ICP messages sent per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.6.0]'
          key: 'squid[cacheIcpPktsSent]'
          value_type: FLOAT
          description: 'Number of ICP messages sent'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: icp
        - uuid: 3dad395fcb8e43e1802fb5bc755b9e04
          name: 'ICP query service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.6.5]'
          key: 'squid[cacheIcpQuerySvcTime.5]'
          value_type: FLOAT
          units: s
          description: 'ICP query service time per 5 minutes'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: icp
            - tag: component
              value: queries
        - uuid: 8c704320e9194a44a6c44b7dbaa96e82
          name: 'ICP query service time per hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.6.60]'
          key: 'squid[cacheIcpQuerySvcTime.60]'
          value_type: FLOAT
          units: s
          description: 'ICP query service time per hour'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: icp
            - tag: component
              value: queries
        - uuid: 7bc1f66ecc47498ab913be791226e55e
          name: 'ICP reply service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.7.5]'
          key: 'squid[cacheIcpReplySvcTime.5]'
          value_type: FLOAT
          units: s
          description: 'ICP reply service time per 5 minutes'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: icp
            - tag: component
              value: replies
        - uuid: 472b7fec78a74f14b81fdd0dc3ae88f5
          name: 'ICP reply service time per hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.7.60]'
          key: 'squid[cacheIcpReplySvcTime.60]'
          value_type: FLOAT
          units: s
          description: 'ICP reply service time per hour'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            - tag: component
              value: icp
            - tag: component
              value: replies
        - uuid: 0b1f7be476f0458a93b86525c9c0e1fa
          name: 'IP cache hits per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.1.3.0]'
          key: 'squid[cacheIpHits]'
          value_type: FLOAT
          description: 'Number of IP Cache hits'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: hits
            - tag: component
              value: ip
        - uuid: 7c2e1c797b7d4a0e8d0fdc5af943c74b
          name: 'IP cache misses per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.1.6.0]'
          key: 'squid[cacheIpMisses]'
          value_type: FLOAT
          description: 'Number of IP Cache misses'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: ip
            - tag: component
              value: misses
        - uuid: 78206480a7fe4745b5c5527d7967306a
          name: 'IP cache requests per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.4.1.2.0]'
          key: 'squid[cacheIpRequests]'
          value_type: FLOAT
          description: 'Number of IP Cache requests'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: ip
            - tag: component
              value: requests
        - uuid: b08fae373556495787e085a5b915b892
          name: 'Memory maximum resident size'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.6.0]'
          key: 'squid[cacheMaxResSize]'
          value_type: FLOAT
          units: B
          description: 'Maximum Resident Size'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            - tag: component
              value: memory
        - uuid: 27cb6aab629a4975a8f3ef5e61947f3c
          name: 'Memory maximum cache size'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.2.5.1.0]'
          key: 'squid[cacheMemMaxSize]'
          value_type: FLOAT
          units: B
          description: 'The value of the cache_mem parameter'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1048576'
          tags:
            - tag: component
              value: memory
        - uuid: 6a36cd76dc044b97b7483f985156a0a6
          name: 'Memory cache usage'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.3.0]'
          key: 'squid[cacheMemUsage]'
          value_type: FLOAT
          units: B
          description: 'Total accounted memory'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            - tag: component
              value: memory
        - uuid: aea150e600d944c18b1c73881a68ee88
          name: 'Objects count'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.7.0]'
          key: 'squid[cacheNumObjCount]'
          value_type: FLOAT
          description: 'Number of objects stored by the cache'
          tags:
            - tag: component
              value: objects
        - uuid: 69fbd65dabbd4081ad11b48f8d787b89
          name: 'HTTP requests received per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.1.1.0]'
          key: 'squid[cacheProtoClientHttpRequests]'
          value_type: FLOAT
          description: 'Number of HTTP requests received'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: http
            - tag: component
              value: requests
        - uuid: 69f5eca70ff04348bfbcd1930351d395
          name: 'Byte hit ratio per 1 minute'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.10.1]'
          key: 'squid[cacheRequestByteRatio.1]'
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            - tag: component
              value: hits
        - uuid: a4d59d980b354aed9ee05e959ec1ccc6
          name: 'Byte hit ratio per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.10.5]'
          key: 'squid[cacheRequestByteRatio.5]'
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            - tag: component
              value: hits
        - uuid: d9dca22009284eada23f97d176f1eb21
          name: 'Byte hit ratio per 1 hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.10.60]'
          key: 'squid[cacheRequestByteRatio.60]'
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            - tag: component
              value: hits
        - uuid: 1913d05976b84533aea31752326c63bf
          name: 'Request hit ratio per 1 minute'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.9.1]'
          key: 'squid[cacheRequestHitRatio.1]'
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            - tag: component
              value: hits
            - tag: component
              value: requests
        - uuid: 2771c4f25a5c4379a4fbc3fa872dc478
          name: 'Request hit ratio per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.9.5]'
          key: 'squid[cacheRequestHitRatio.5]'
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            - tag: component
              value: hits
            - tag: component
              value: requests
        - uuid: d1654177d3614182961cef62c5b44e1c
          name: 'Request hit ratio per 1 hour'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.2.2.1.9.60]'
          key: 'squid[cacheRequestHitRatio.60]'
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            - tag: component
              value: hits
            - tag: component
              value: requests
        - uuid: 55301a16168b4a08aee2f1321dd200ca
          name: 'Cache swap high water mark'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.2.5.3.0]'
          key: 'squid[cacheSwapHighWM]'
          value_type: FLOAT
          units: '%'
          description: 'Cache Swap High Water Mark'
          tags:
            - tag: component
              value: memory
            - tag: component
              value: storage
        - uuid: 41767e2564564e36bd71685cf084a031
          name: 'Cache swap low water mark'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.2.5.4.0]'
          key: 'squid[cacheSwapLowWM]'
          value_type: FLOAT
          units: '%'
          description: 'Cache Swap Low Water Mark'
          tags:
            - tag: component
              value: memory
            - tag: component
              value: storage
        - uuid: cd5b3b3f81ec442d90577347bfea9887
          name: 'Cache swap directory size'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.2.5.2.0]'
          key: 'squid[cacheSwapMaxSize]'
          value_type: FLOAT
          units: B
          description: 'The total of the cache_dir space allocated'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '1048576'
          tags:
            - tag: component
              value: memory
            - tag: component
              value: storage
        - uuid: df851bff829a4cc38ee19940c916d8f3
          name: 'Sys page faults per second'
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.3.1.1.0]'
          key: 'squid[cacheSysPageFaults]'
          value_type: FLOAT
          description: 'Page faults with physical I/O'
          preprocessing:
            - type: CHANGE_PER_SECOND
          tags:
            - tag: component
              value: faults
        - uuid: 8e00207eadc848a695963420aebde3b8
          name: Uptime
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.1.3.0]'
          key: 'squid[cacheUptime]'
          delay: 5m
          units: s
          description: 'The Uptime of the cache in timeticks (in hundredths of a second) with preprocessing'
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: application
          triggers:
            - uuid: 9f1a0a61559f4a34aa624f272f0a3db8
              expression: 'last(/Squid by SNMP/squid[cacheUptime])<10m'
              name: 'Squid: Squid has been restarted'
              event_name: 'Squid: Squid has been restarted (uptime < 10m)'
              priority: INFO
              description: 'Uptime is less than 10 minutes.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: 9b312b64d6a2449a8fb7e2681962de7c
          name: Version
          type: SNMP_AGENT
          snmp_oid: 'get[1.3.6.1.4.1.3495.1.2.3.0]'
          key: 'squid[cacheVersionId]'
          value_type: TEXT
          description: 'Cache Software Version'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            - tag: component
              value: application
          triggers:
            - uuid: 55961e6a152346c68008dbfa4c1e2f71
              expression: 'last(/Squid by SNMP/squid[cacheVersionId],#1)<>last(/Squid by SNMP/squid[cacheVersionId],#2) and length(last(/Squid by SNMP/squid[cacheVersionId]))>0'
              name: 'Squid: Squid version has been changed'
              event_name: 'Squid: Version has changed (new version: {ITEM.VALUE})'
              priority: INFO
              description: 'Squid version has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
      tags:
        - tag: class
          value: software
        - tag: target
          value: squid
      macros:
        - macro: '{$SQUID.FILE.DESC.WARN.MIN}'
          value: '100'
          description: 'The threshold for minimum number of available file descriptors'
        - macro: '{$SQUID.HTTP.PORT}'
          value: '3128'
          description: 'http_port configured in squid.conf (Default: 3128)'
        - macro: '{$SQUID.PAGE.FAULT.WARN}'
          value: '90'
          description: 'The threshold for sys page faults rate in percent of received HTTP requests'
        - macro: '{$SQUID.SNMP.COMMUNITY}'
          value: mgvro
          description: 'SNMP community allowed by ACL in squid.conf'
        - macro: '{$SQUID.SNMP.PORT}'
          value: '3401'
          description: 'snmp_port configured in squid.conf (Default: 3401)'
      dashboards:
        - uuid: 55af3c95f81f4167b45bd3688835a2dc
          name: 'Squid: Overview'
          pages:
            - name: 'Resource usage'
              widgets:
                - type: graph
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: Memory'
                    - type: STRING
                      name: reference
                      value: AAAAA
                - type: graph
                  'y': '5'
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: File descriptor usage'
                    - type: STRING
                      name: reference
                      value: AAAAB
            - name: 'Service timing statistics'
              widgets:
                - type: graph
                  width: '72'
                  height: '10'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: Service timing statistics'
                    - type: STRING
                      name: reference
                      value: AAAAC
            - name: 'Other statistics'
              widgets:
                - type: graph
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: HTTP Traffic'
                    - type: STRING
                      name: reference
                      value: AAAAD
                - type: graph
                  'y': '5'
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: Objects cache statistics'
                    - type: STRING
                      name: reference
                      value: AAAAE
                - type: graph
                  'y': '10'
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: Domain name (FQDN) cache statistics'
                    - type: STRING
                      name: reference
                      value: AAAAF
                - type: graph
                  'y': '15'
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: DNS lookup statistics'
                    - type: STRING
                      name: reference
                      value: AAAAG
                - type: graph
                  'y': '20'
                  width: '72'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Squid by SNMP'
                        name: 'Squid: IP address cache statistics'
                    - type: STRING
                      name: reference
                      value: AAAAH
      valuemaps:
        - uuid: 4c61e87d56494d6792ef2235901a5e02
          name: 'Service state'
          mappings:
            - value: '0'
              newvalue: Down
            - value: '1'
              newvalue: Up
  triggers:
    - uuid: 31b5ab80480e4d15b318cbcedd7e7065
      expression: 'avg(/Squid by SNMP/squid[cacheSysPageFaults],5m)>avg(/Squid by SNMP/squid[cacheProtoClientHttpRequests],5m)/100*{$SQUID.PAGE.FAULT.WARN}'
      name: 'Squid: High sys page faults rate'
      event_name: 'Squid: High sys page faults rate (>{$SQUID.PAGE.FAULT.WARN}% of received HTTP requests)'
      priority: WARNING
      tags:
        - tag: scope
          value: performance
    - uuid: 777fd59bba444c1fb99e132659fff4f9
      expression: 'last(/Squid by SNMP/squid[cacheCurrentSwapSize])>last(/Squid by SNMP/squid[cacheSwapHighWM])*last(/Squid by SNMP/squid[cacheSwapMaxSize])/100'
      name: 'Squid: Swap usage is more than high watermark'
      event_name: 'Squid: Swap usage is more than high watermark (>{ITEM.VALUE2}%)'
      opdata: 'Used: {ITEM.LASTVALUE1}'
      priority: HIGH
      tags:
        - tag: scope
          value: capacity
        - tag: scope
          value: performance
    - uuid: 61b5e7ea0bf743d8bdef5de6b3b88e65
      expression: 'last(/Squid by SNMP/squid[cacheCurrentSwapSize])>last(/Squid by SNMP/squid[cacheSwapLowWM])*last(/Squid by SNMP/squid[cacheSwapMaxSize])/100'
      name: 'Squid: Swap usage is more than low watermark'
      event_name: 'Squid: Swap usage is more than low watermark (>{ITEM.VALUE2}%)'
      opdata: 'Used: {ITEM.LASTVALUE1}'
      priority: WARNING
      tags:
        - tag: scope
          value: capacity
        - tag: scope
          value: performance
  graphs:
    - uuid: 3baca802bc50476aa62ee241093eeabb
      name: 'Squid: DNS lookup statistics'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheDnsRequests]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheDnsReplies]'
    - uuid: 0ca016791f2b475fadb39c0f94f41bb0
      name: 'Squid: Domain name (FQDN) cache statistics'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheFqdnRequests]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheFqdnHits]'
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheFqdnMisses]'
    - uuid: 1e642d9a44a246fcb703a54643732d21
      name: 'Squid: File descriptor usage'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheCurrentFileDescrCnt]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheCurrentUnusedFDescrCnt]'
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheCurrentResFileDescrCnt]'
    - uuid: 8e3f176bdd5a4556bf8058002b51600f
      name: 'Squid: HTTP Traffic'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpInKb]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpOutKb]'
    - uuid: 0f0a81b38b624c9fb7df4c96ef902852
      name: 'Squid: IP address cache statistics'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIpRequests]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIpHits]'
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIpMisses]'
    - uuid: 34349452821f4b49a06b4ced81b4e704
      name: 'Squid: Memory'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheMaxResSize]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheMemMaxSize]'
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheMemUsage]'
    - uuid: 146c05bf89e4450a942b93528c22bd1e
      name: 'Squid: Objects cache statistics'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheNumObjCount]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheCurrentUnlinkRequests]'
    - uuid: 8bb188a5e82f4817805149d4be6c25dd
      name: 'Squid: Service timing statistics'
      graph_items:
        - color: 199C0D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpAllSvcTime.5]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpAllSvcTime.60]'
        - sortorder: '2'
          color: 00611C
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpMissSvcTime.5]'
        - sortorder: '3'
          color: F7941D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpMissSvcTime.60]'
        - sortorder: '4'
          color: FC6EA3
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpHitSvcTime.5]'
        - sortorder: '5'
          color: 6C59DC
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheHttpHitSvcTime.60]'
        - sortorder: '6'
          color: C7A72D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIcpQuerySvcTime.5]'
        - sortorder: '7'
          color: BA2A5D
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIcpQuerySvcTime.60]'
        - sortorder: '8'
          color: F230E0
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIcpReplySvcTime.5]'
        - sortorder: '9'
          color: 5CCD18
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheIcpReplySvcTime.60]'
        - sortorder: '10'
          color: BB2A02
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheDnsSvcTime.5]'
        - sortorder: '11'
          color: AC41A5
          item:
            host: 'Squid by SNMP'
            key: 'squid[cacheDnsSvcTime.60]'
