zabbix_export:
  version: '7.4'
  template_groups:
    - uuid: f10fc491a20f4d0983147fe4c6d7c361
      name: Templates
  templates:
    - uuid: 958ce2536313418193dcb92ad2ea2c0b
      template: 'Docker by Zabbix agent 2'
      name: 'Docker by Zabbix agent 2'
      description: |
        Get Docker engine metrics from plugin for the New Zabbix Agent (zabbix-agent2).
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/435429-discussion-thread-for-official-zabbix-template-docker
        
        Generated by official Zabbix template tool "Templator"
      groups:
        - name: Templates
      items:
        - uuid: 2f961d63fceb40b48037774dc13650a5
          name: Architecture
          type: DEPENDENT
          key: docker.architecture
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Architecture
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: os
        - uuid: 65f6e0cb2224441e86f2ee2a5a1094d9
          name: 'Cgroup driver'
          type: DEPENDENT
          key: docker.cgroup_driver
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CgroupDriver
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: os
        - uuid: 6aa4764a4d7645bfbbe4a64a561ceb2c
          name: 'Get containers'
          key: docker.containers
          history: '0'
          value_type: TEXT
          tags:
            - tag: component
              value: raw
        - uuid: fd58c6fea1254521bdd2ae1a476fcb97
          name: 'Containers paused'
          type: DEPENDENT
          key: docker.containers.paused
          description: 'Total number of containers paused on this host.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ContainersPaused
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: containers
        - uuid: 518bebe5affc480b810b938ca4a1d670
          name: 'Containers running'
          type: DEPENDENT
          key: docker.containers.running
          description: 'Total number of containers running on this host.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ContainersRunning
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: containers
        - uuid: 9574bf9c86fc4dfdbc4167849bb1b3dc
          name: 'Containers stopped'
          type: DEPENDENT
          key: docker.containers.stopped
          description: 'Total number of containers stopped on this host.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ContainersStopped
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: containers
        - uuid: 32eb724855244db7bb40d2ca8bda5d31
          name: 'Containers total'
          type: DEPENDENT
          key: docker.containers.total
          description: 'Total number of containers on this host.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Containers
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: containers
        - uuid: 1dc153d1a5694394bf461dd918618f3c
          name: 'Containers size'
          type: DEPENDENT
          key: docker.containers_size
          units: B
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.Containers[*].SizeRw.sum()'
          master_item:
            key: docker.data_usage
          tags:
            - tag: component
              value: containers
            - tag: component
              value: storage
        - uuid: 3961b974921849c1af1f9d8a0c3f5ed4
          name: 'CPU CFS Period enabled'
          type: DEPENDENT
          key: docker.cpu_cfs_period.enabled
          description: 'https://docs.docker.com/config/containers/resource_constraints/#configure-the-default-cfs-scheduler'
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CpuCfsPeriod
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: cpu
        - uuid: 261b203f04354dada2c8885f2f356c74
          name: 'CPU CFS Quota enabled'
          type: DEPENDENT
          key: docker.cpu_cfs_quota.enabled
          description: 'https://docs.docker.com/config/containers/resource_constraints/#configure-the-default-cfs-scheduler'
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CpuCfsQuota
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: cpu
        - uuid: 6588409a80a54d99a5bb06dd86efda9b
          name: 'CPU Set enabled'
          type: DEPENDENT
          key: docker.cpu_set.enabled
          description: 'https://docs.docker.com/config/containers/resource_constraints/#configure-the-default-cfs-scheduler'
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CPUSet
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: cpu
        - uuid: a44fc9699189410eb0ff7b22c00db1a5
          name: 'CPU Shares enabled'
          type: DEPENDENT
          key: docker.cpu_shares.enabled
          description: 'https://docs.docker.com/config/containers/resource_constraints/#configure-the-default-cfs-scheduler'
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.CPUShares
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: cpu
        - uuid: 217aea584a3c44b38a654774fec2cf97
          name: 'Get data_usage'
          key: docker.data_usage
          history: '0'
          value_type: TEXT
          tags:
            - tag: component
              value: raw
        - uuid: e620bec31c2041e784fde545a5bba1e3
          name: 'Debug enabled'
          type: DEPENDENT
          key: docker.debug.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Debug
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: application
        - uuid: e9d38d92675c47eca43e0a7308aedd42
          name: 'Default runtime'
          type: DEPENDENT
          key: docker.default_runtime
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.DefaultRuntime
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: application
        - uuid: b999b640a5064c41bb701bda18b26574
          name: 'Storage driver'
          type: DEPENDENT
          key: docker.driver
          value_type: CHAR
          description: |
            Docker storage driver.
            https://docs.docker.com/storage/storagedriver/
            
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Driver
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: storage
        - uuid: 25c91fc804c94f4ca01ed92ed8bf7d69
          name: Goroutines
          type: DEPENDENT
          key: docker.goroutines
          description: 'Number of goroutines.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.NGoroutines
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: system
        - uuid: 25a00333f78c44d9af0b194d0a4bd085
          name: 'Get images'
          key: docker.images
          history: '0'
          value_type: TEXT
          tags:
            - tag: component
              value: raw
        - uuid: 8f4f793f75fb456d9ad06dfe578264d8
          name: 'Images available'
          type: DEPENDENT
          key: docker.images.top_level
          description: 'Number of top-level images.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.length()
          master_item:
            key: docker.images
          tags:
            - tag: component
              value: images
        - uuid: 063c38b3d31542b1b3a050bca0f609ce
          name: 'Images total'
          type: DEPENDENT
          key: docker.images.total
          description: 'Number of images with intermediate image layers.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Images
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: images
        - uuid: fdd39f9e53824b049e7d4173111d6028
          name: 'Images size'
          type: DEPENDENT
          key: docker.images_size
          units: B
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.Images[*].Size.sum()'
          master_item:
            key: docker.data_usage
          tags:
            - tag: component
              value: images
            - tag: component
              value: storage
        - uuid: 7bec819e0c0a47c382a99c5924368503
          name: 'Get info'
          key: docker.info
          history: '0'
          value_type: TEXT
          tags:
            - tag: component
              value: raw
        - uuid: 2ba7581ba2634b2da4c539dcffd0ee6b
          name: 'IPv4 Forwarding enabled'
          type: DEPENDENT
          key: docker.ipv4_forwarding.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.IPv4Forwarding
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: network
        - uuid: cf3611a9b51044cfaee0c7cf12d6de7d
          name: 'Kernel memory enabled'
          type: DEPENDENT
          key: docker.kernel_mem.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.KernelMemory
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: memory
        - uuid: 0052c9fe22cb44fba77a147d3c1027b1
          name: 'Kernel memory TCP enabled'
          type: DEPENDENT
          key: docker.kernel_mem_tcp.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.KernelMemoryTCP
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: memory
        - uuid: b7709fe1779f4b33a1706953b7783b5f
          name: 'Kernel version'
          type: DEPENDENT
          key: docker.kernel_version
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.KernelVersion
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: system
        - uuid: abfe59fb39ef4e1fa9521ecba3d56794
          name: 'Layers size'
          type: DEPENDENT
          key: docker.layers_size
          units: B
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.LayersSize
          master_item:
            key: docker.data_usage
          tags:
            - tag: component
              value: storage
        - uuid: dd8ee683f6de4c4582a0ed203f8a104a
          name: 'Live restore enabled'
          type: DEPENDENT
          key: docker.live_restore.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.LiveRestoreEnabled
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: application
        - uuid: 619b2e1397d44b57a38d4e98c4d78150
          name: 'Logging driver'
          type: DEPENDENT
          key: docker.logging_driver
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.LoggingDriver
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: application
        - uuid: 363f88a35ba143539db5fc8d2640dce4
          name: 'Memory total'
          type: DEPENDENT
          key: docker.mem.total
          units: B
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.MemTotal
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: memory
        - uuid: 4fa9d5690bab46c9aacd40b4d8005346
          name: 'Memory limit enabled'
          type: DEPENDENT
          key: docker.mem_limit.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.MemoryLimit
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: memory
        - uuid: 53065bd50776496aa96eca13fa0248c1
          name: Name
          type: DEPENDENT
          key: docker.name
          history: 1h
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.Name
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 112c99a4045446ef98d27207d2cf4167
              expression: 'nodata(/Docker by Zabbix agent 2/docker.name,30m)=1'
              name: 'Docker: Failed to fetch info data'
              event_name: 'Docker: Failed to fetch info data (or no data for 30m)'
              priority: WARNING
              description: 'Zabbix has not received data for items for the last 30 minutes.'
              manual_close: 'YES'
              dependencies:
                - name: 'Docker: Service is down'
                  expression: 'last(/Docker by Zabbix agent 2/docker.ping)=0'
              tags:
                - tag: scope
                  value: availability
        - uuid: 01af4ba75bf24819b4765539d0796d79
          name: NCPU
          type: DEPENDENT
          key: docker.ncpu
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.NCPU
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: cpu
        - uuid: 1d8bbca172ec4f90997b8a84551976ea
          name: 'NEvents listener'
          type: DEPENDENT
          key: docker.nevents_listener
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.NEventsListener
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: application
        - uuid: bea98970f11843e5af0edebc4687dfff
          name: Nfd
          type: DEPENDENT
          key: docker.nfd
          description: 'Number of used File Descriptors.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.NFd
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: os
        - uuid: 4e2f68cdb9164ea99e3eb2b86a05ad09
          name: 'OomKill disabled'
          type: DEPENDENT
          key: docker.oomkill.disabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.OomKillDisable
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: system
        - uuid: fd9c6556fac94aeb92ae4bbf9f88a6c4
          name: 'Operating system'
          type: DEPENDENT
          key: docker.operating_system
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.OperatingSystem
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: os
        - uuid: 6cbd97edef834cf3a9135bc3ebf20128
          name: 'OS type'
          type: DEPENDENT
          key: docker.os_type
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.OSType
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: os
        - uuid: de27ee17536544fd90fc1e1b71d4c1b9
          name: 'Pids limit enabled'
          type: DEPENDENT
          key: docker.pids_limit.enabled
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.PidsLimit
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: system
        - uuid: da73d7669ed04d378e3a5a498af50910
          name: Ping
          key: docker.ping
          valuemap:
            name: 'Service state'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 10m
          tags:
            - tag: component
              value: application
            - tag: component
              value: health
          triggers:
            - uuid: 5490e1ef28a34690a6ee9b7b08a9ba59
              expression: 'last(/Docker by Zabbix agent 2/docker.ping)=0'
              name: 'Docker: Service is down'
              priority: AVERAGE
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: availability
        - uuid: d6c20e9c6b004f068b6d2173e05eec6a
          name: 'Docker root dir'
          type: DEPENDENT
          key: docker.root_dir
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.DockerRootDir
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: system
        - uuid: 2a92366e5c1a4be2a4b1f756ce060428
          name: 'Server version'
          type: DEPENDENT
          key: docker.server_version
          value_type: CHAR
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ServerVersion
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: application
          triggers:
            - uuid: 58d2d26d4bd84525bef3707341ea42cf
              expression: 'last(/Docker by Zabbix agent 2/docker.server_version,#1)<>last(/Docker by Zabbix agent 2/docker.server_version,#2) and length(last(/Docker by Zabbix agent 2/docker.server_version))>0'
              name: 'Docker: Version has changed'
              event_name: 'Docker: Version has changed (new version: {ITEM.VALUE})'
              priority: INFO
              description: 'Docker version has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: ceb341dd44bd4b8eb85563bfbae07523
          name: 'Swap limit enabled'
          type: DEPENDENT
          key: docker.swap_limit.enabled
          valuemap:
            name: 'Docker flag'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.SwapLimit
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          master_item:
            key: docker.info
          tags:
            - tag: component
              value: memory
            - tag: component
              value: storage
        - uuid: 650cac0ba1634942acbfe7ee1268fd80
          name: 'Volumes size'
          type: DEPENDENT
          key: docker.volumes_size
          units: B
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.Volumes[*].UsageData.Size.sum()'
          master_item:
            key: docker.data_usage
          tags:
            - tag: component
              value: storage
      discovery_rules:
        - uuid: 720c41f9d1d74721bc98f3198e066057
          name: 'Containers discovery'
          key: 'docker.containers.discovery[false]'
          delay: 15m
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$DOCKER.LLD.FILTER.CONTAINER.MATCHES}'
              - macro: '{#NAME}'
                value: '{$DOCKER.LLD.FILTER.CONTAINER.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
          description: |
            Discovery of containers metrics.
            
            Parameter:
            true  - Returns all containers
            false - Returns only running containers
          item_prototypes:
            - uuid: 66ed6e08e88c4908b9837322dfd2be85
              name: 'Container {#NAME}: Created'
              type: DEPENDENT
              key: 'docker.container_info.created["{#NAME}"]'
              units: unixtime
              valuemap:
                name: 'Docker date format'
              preprocessing:
                - type: JAVASCRIPT
                  parameters:
                    - |
                      var input = JSON.parse(value);
                        return truncatedTimestamp = Math.floor(Date.parse(input.Created) / 1000) || -1;
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 6422db8be9854259a742807a669128ba
              name: 'Container {#NAME}: Finished at'
              type: DEPENDENT
              key: 'docker.container_info.finished["{#NAME}"]'
              value_type: FLOAT
              units: unixtime
              description: 'Time at which the container last terminated.'
              valuemap:
                name: 'Docker date format'
              preprocessing:
                - type: JAVASCRIPT
                  parameters:
                    - |
                      var input = JSON.parse(value);
                        return truncatedTimestamp = Math.floor(Date.parse(input.State.FinishedAt) / 1000) || -1;
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 13912b709bd04a9eaad3ea87f0b1c180
              name: 'Container {#NAME}: Image'
              type: DEPENDENT
              key: 'docker.container_info.image["{#NAME}"]'
              value_type: CHAR
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[?(@.Names[0] == "{#NAME}")].Image.first()'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: docker.containers
              tags:
                - tag: component
                  value: images
                - tag: container
                  value: '{#NAME}'
            - uuid: 5aa3bc29d8cd4fd593eaca3285b908b9
              name: 'Container {#NAME}: Restart count'
              type: DEPENDENT
              key: 'docker.container_info.restart_count["{#NAME}"]'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.RestartCount
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: babe96667fdf4f4cb6d7a00688c8d165
              name: 'Container {#NAME}: Started at'
              type: DEPENDENT
              key: 'docker.container_info.started["{#NAME}"]'
              value_type: FLOAT
              units: unixtime
              valuemap:
                name: 'Docker date format'
              preprocessing:
                - type: JAVASCRIPT
                  parameters:
                    - |
                      var input = JSON.parse(value);
                        return truncatedTimestamp = Math.floor(Date.parse(input.State.StartedAt) / 1000) || -1;
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 14b125b7f1df4be0b4fea0f4c21f2e89
              name: 'Container {#NAME}: Dead'
              type: DEPENDENT
              key: 'docker.container_info.state.dead["{#NAME}"]'
              valuemap:
                name: 'Docker flag'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Dead
                - type: BOOL_TO_DECIMAL
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: fa64becbad774f58b894d977aa871a0c
              name: 'Container {#NAME}: Error'
              type: DEPENDENT
              key: 'docker.container_info.state.error["{#NAME}"]'
              value_type: CHAR
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Error
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
              trigger_prototypes:
                - uuid: 1bbc33ec8f73427b8933f9bd8e03333e
                  expression: 'last(/Docker by Zabbix agent 2/docker.container_info.state.error["{#NAME}"],#1)<>last(/Docker by Zabbix agent 2/docker.container_info.state.error["{#NAME}"],#2) and length(last(/Docker by Zabbix agent 2/docker.container_info.state.error["{#NAME}"]))>0'
                  name: 'Docker: Container {#NAME}: An error has occurred in the container'
                  event_name: 'Docker: Container {#NAME}: Version has changed (new version: {ITEM.VALUE})'
                  priority: WARNING
                  description: 'Container {#NAME} has an error. Acknowledge to close the problem manually.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: dfa4f75579784578af55cdab63468ced
              name: 'Container {#NAME}: Exit code'
              type: DEPENDENT
              key: 'docker.container_info.state.exitcode["{#NAME}"]'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.ExitCode
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 3944a2f2029f4fa380cf119d38f0e535
              name: 'Container {#NAME}: Health failing streak'
              type: DEPENDENT
              key: 'docker.container_info.state.health.failing["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Health.FailingStreak
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 518c5094a53d4789af28b8dbb8f93c2a
              name: 'Container {#NAME}: Health status'
              type: DEPENDENT
              key: 'docker.container_info.state.health["{#NAME}"]'
              value_type: FLOAT
              description: 'Container''s `HEALTHCHECK`.'
              valuemap:
                name: 'Docker container health state'
              preprocessing:
                - type: JAVASCRIPT
                  parameters:
                    - |
                      var input = JSON.parse(value);
                      if (typeof input.State.Health !== 'object' || typeof input.State.Health === 'undefined') {
                        return 4;
                      }
                        return (['starting', 'unhealthy', 'healthy', 'none'].indexOf(input.State.Health.Status) + 1);
                - type: IN_RANGE
                  parameters:
                    - '1'
                    - '4'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '4'
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
              trigger_prototypes:
                - uuid: 70507a8fd5244b4d91292be75b3f5b1d
                  expression: 'count(/Docker by Zabbix agent 2/docker.container_info.state.health["{#NAME}"],2m,,2)>=2'
                  name: 'Docker: Container {#NAME}: Health state container is unhealthy'
                  opdata: '{ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Container health state is unhealthy.'
                  tags:
                    - tag: scope
                      value: availability
            - uuid: 6184282bf94f45dc9d4d16d74427ae6b
              name: 'Container {#NAME}: OOMKilled'
              type: DEPENDENT
              key: 'docker.container_info.state.oomkilled["{#NAME}"]'
              valuemap:
                name: 'Docker flag'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.OOMKilled
                - type: BOOL_TO_DECIMAL
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 33d2b84db27e4dd0be3e71f8b69b664d
              name: 'Container {#NAME}: Paused'
              type: DEPENDENT
              key: 'docker.container_info.state.paused["{#NAME}"]'
              valuemap:
                name: 'Docker flag'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Paused
                - type: BOOL_TO_DECIMAL
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 670450dd4bf9479b942074249aa91102
              name: 'Container {#NAME}: Pid'
              type: DEPENDENT
              key: 'docker.container_info.state.pid["{#NAME}"]'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Pid
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: c3a14b103c594ca3b3499e7e5e394b5e
              name: 'Container {#NAME}: Restarting'
              type: DEPENDENT
              key: 'docker.container_info.state.restarting["{#NAME}"]'
              valuemap:
                name: 'Docker flag'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Restarting
                - type: BOOL_TO_DECIMAL
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 9e943a718429414e899353f3bacf05e2
              name: 'Container {#NAME}: Running'
              type: DEPENDENT
              key: 'docker.container_info.state.running["{#NAME}"]'
              valuemap:
                name: 'Docker flag'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Running
                - type: BOOL_TO_DECIMAL
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 647c5cbafe9e49b693e9d824df85bd10
              name: 'Container {#NAME}: Status'
              type: DEPENDENT
              key: 'docker.container_info.state.status["{#NAME}"]'
              value_type: CHAR
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.State.Status
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1h
              master_item:
                key: 'docker.container_info["{#NAME}",full]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 28ec475c94f44b8db02e2c00f5f24d34
              name: 'Container {#NAME}: Get info'
              key: 'docker.container_info["{#NAME}",full]'
              history: '0'
              value_type: CHAR
              description: 'Return low-level information about a container.'
              tags:
                - tag: component
                  value: raw
                - tag: container
                  value: '{#NAME}'
            - uuid: ea75b94f813a4e019fe7ebd44fa871e0
              name: 'Container {#NAME}: CPU percent usage'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_pct_usage["{#NAME}"]'
              value_type: FLOAT
              units: '%'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.cpu_usage.percent_usage
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: 8852e42bbd454c5a96e9ebcf629d197c
              name: 'Container {#NAME}: CPU kernelmode usage per second'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_usage.kernel.rate["{#NAME}"]'
              value_type: FLOAT
              units: s
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.cpu_usage.usage_in_kernelmode
                - type: CHANGE_PER_SECOND
                - type: MULTIPLIER
                  parameters:
                    - '1.0E-9'
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: b1538999ed254f5d8049d906dc3b5fe7
              name: 'Container {#NAME}: Throttled periods'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_usage.throttled_periods["{#NAME}"]'
              description: 'Number of periods when the container hits its throttling limit.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.throttling_data.throttled_periods
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: 6e17c958a72c4cf49047a43b9b195d2b
              name: 'Container {#NAME}: Throttled time'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_usage.throttled_time["{#NAME}"]'
              value_type: FLOAT
              units: s
              description: 'Aggregate time the container was throttled for in nanoseconds.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.throttling_data.throttled_time
                - type: MULTIPLIER
                  parameters:
                    - '1.0E-9'
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: 26581df88ff546bba49d30c05eae9f0e
              name: 'Container {#NAME}: Throttling periods'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_usage.throttling_periods["{#NAME}"]'
              description: 'Number of periods with throttling active.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.throttling_data.periods
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: 736fff45a9e54f52884484178a5ef342
              name: 'Container {#NAME}: CPU total usage per second'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_usage.total.rate["{#NAME}"]'
              value_type: FLOAT
              units: s
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.cpu_usage.total_usage
                - type: CHANGE_PER_SECOND
                - type: MULTIPLIER
                  parameters:
                    - '1.0E-9'
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: f60fe0e839264ed3916a220578939d5e
              name: 'Container {#NAME}: CPU usermode usage per second'
              type: DEPENDENT
              key: 'docker.container_stats.cpu_usage.user.rate["{#NAME}"]'
              value_type: FLOAT
              units: s
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.cpu_usage.usage_in_usermode
                - type: CHANGE_PER_SECOND
                - type: MULTIPLIER
                  parameters:
                    - '1.0E-9'
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: 926d856366ea4a36b67939c9656711b7
              name: 'Container {#NAME}: Memory commit bytes'
              type: DEPENDENT
              key: 'docker.container_stats.memory.commit_bytes["{#NAME}"]'
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.memory_stats.commitbytes
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: memory
                - tag: container
                  value: '{#NAME}'
            - uuid: 83a4a9bfb28a4554995fa398e9a4f64d
              name: 'Container {#NAME}: Memory commit peak bytes'
              type: DEPENDENT
              key: 'docker.container_stats.memory.commit_peak_bytes["{#NAME}"]'
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.memory_stats.commitpeakbytes
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: memory
                - tag: container
                  value: '{#NAME}'
            - uuid: c5b0c76ac21e48a9960eca8e9ca42ebd
              name: 'Container {#NAME}: Memory maximum usage'
              type: DEPENDENT
              key: 'docker.container_stats.memory.max_usage["{#NAME}"]'
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.memory_stats.max_usage
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: memory
                - tag: container
                  value: '{#NAME}'
            - uuid: 5c8672b48cf84c339885549fc3efb419
              name: 'Container {#NAME}: Memory private working set'
              type: DEPENDENT
              key: 'docker.container_stats.memory.private_working_set["{#NAME}"]'
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.memory_stats.privateworkingset
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: memory
                - tag: container
                  value: '{#NAME}'
            - uuid: e177d8d95e74488087f393e83893f474
              name: 'Container {#NAME}: Memory usage'
              type: DEPENDENT
              key: 'docker.container_stats.memory.usage["{#NAME}"]'
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.memory_stats.usage
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: memory
                - tag: container
                  value: '{#NAME}'
            - uuid: 2ede9162dc464daa93173e4ba14f314d
              name: 'Container {#NAME}: Online CPUs'
              type: DEPENDENT
              key: 'docker.container_stats.online_cpus["{#NAME}"]'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.cpu_stats.online_cpus
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: cpu
                - tag: container
                  value: '{#NAME}'
            - uuid: 08b04b0936db4d0cb6a798261965690f
              name: 'Container {#NAME}: Current PIDs count'
              type: DEPENDENT
              key: 'docker.container_stats.pids_stats.current["{#NAME}"]'
              description: 'Current number of PIDs the container has created.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.pids_stats.current
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: system
                - tag: container
                  value: '{#NAME}'
            - uuid: 1da96879ba654abba303730bdbb34614
              name: 'Container {#NAME}: Get stats'
              key: 'docker.container_stats["{#NAME}"]'
              history: '0'
              value_type: CHAR
              description: 'Get container stats based on resource usage.'
              tags:
                - tag: component
                  value: raw
                - tag: container
                  value: '{#NAME}'
            - uuid: fdd27c5ba00b4f6ebc6510b36b46b6d0
              name: 'Container {#NAME}: Networks bytes received per second'
              type: DEPENDENT
              key: 'docker.networks.rx_bytes["{#NAME}"]'
              value_type: FLOAT
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].rx_bytes.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: 1bdcd1156d9244fe8cb5353f48b431ea
              name: 'Container {#NAME}: Networks incoming packets dropped per second'
              type: DEPENDENT
              key: 'docker.networks.rx_dropped["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].rx_dropped.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: acaa1b8bbc7b45afbebc45294c97f2be
              name: 'Container {#NAME}: Networks errors received per second'
              type: DEPENDENT
              key: 'docker.networks.rx_errors["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].rx_errors.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: b8db093b0652421f88dc4477f04a9b08
              name: 'Container {#NAME}: Networks packets received per second'
              type: DEPENDENT
              key: 'docker.networks.rx_packets["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].rx_packets.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: e94f28fa065b4e15934007164a7ea2fc
              name: 'Container {#NAME}: Networks bytes sent per second'
              type: DEPENDENT
              key: 'docker.networks.tx_bytes["{#NAME}"]'
              value_type: FLOAT
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].tx_bytes.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: 476810c3353d40a5b050708100e41ce7
              name: 'Container {#NAME}: Networks outgoing packets dropped per second'
              type: DEPENDENT
              key: 'docker.networks.tx_dropped["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].tx_dropped.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: 827d767d6bf947d5b22bc932e1ebd1ac
              name: 'Container {#NAME}: Networks errors sent per second'
              type: DEPENDENT
              key: 'docker.networks.tx_errors["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].tx_errors.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
            - uuid: 5490a9314cca4afbb3cb8d3be04734b5
              name: 'Container {#NAME}: Networks packets sent per second'
              type: DEPENDENT
              key: 'docker.networks.tx_packets["{#NAME}"]'
              value_type: FLOAT
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.networks[*].tx_packets.sum()'
                  error_handler: CUSTOM_VALUE
                  error_handler_params: '0'
                - type: CHANGE_PER_SECOND
              master_item:
                key: 'docker.container_stats["{#NAME}"]'
              tags:
                - tag: component
                  value: network
                - tag: container
                  value: '{#NAME}'
          trigger_prototypes:
            - uuid: f577173ce40046b2ba410668719dfce7
              expression: 'last(/Docker by Zabbix agent 2/docker.container_info.state.exitcode["{#NAME}"])>0 and last(/Docker by Zabbix agent 2/docker.container_info.state.running["{#NAME}"])=0'
              name: 'Docker: Container {#NAME}: Container has been stopped with error code'
              opdata: 'Exit code: {ITEM.LASTVALUE1}'
              priority: AVERAGE
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: availability
          graph_prototypes:
            - uuid: 682149ebaed7427fb1bb317a03d24b99
              name: 'Container {#NAME}: CPU usage'
              type: STACKED
              graph_items:
                - color: 199C0D
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.container_stats.cpu_usage.kernel.rate["{#NAME}"]'
                - sortorder: '1'
                  color: F63100
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.container_stats.cpu_usage.user.rate["{#NAME}"]'
                - sortorder: '2'
                  color: 00611C
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.container_stats.cpu_usage.total.rate["{#NAME}"]'
            - uuid: c964126036fa4c61a41cb6a0c09db541
              name: 'Container {#NAME}: Memory usage'
              graph_items:
                - drawtype: GRADIENT_LINE
                  color: 199C0D
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.container_stats.memory.usage["{#NAME}"]'
                - sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: F63100
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.container_stats.memory.max_usage["{#NAME}"]'
            - uuid: 7306008a295d420195be8f51ec566a4e
              name: 'Container {#NAME}: Network packets'
              graph_items:
                - drawtype: BOLD_LINE
                  color: 199C0D
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.rx_packets["{#NAME}"]'
                - sortorder: '1'
                  drawtype: BOLD_LINE
                  color: F63100
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.tx_packets["{#NAME}"]'
                - sortorder: '2'
                  drawtype: BOLD_LINE
                  color: 00611C
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.rx_errors["{#NAME}"]'
                - sortorder: '3'
                  drawtype: BOLD_LINE
                  color: F7941D
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.tx_errors["{#NAME}"]'
                - sortorder: '4'
                  drawtype: BOLD_LINE
                  color: FC6EA3
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.rx_dropped["{#NAME}"]'
                - sortorder: '5'
                  drawtype: BOLD_LINE
                  color: 6C59DC
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.tx_dropped["{#NAME}"]'
            - uuid: 17302dc0de0f41a38c5ae3c51668fd9d
              name: 'Container {#NAME}: Network traffic'
              graph_items:
                - drawtype: BOLD_LINE
                  color: 199C0D
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.rx_bytes["{#NAME}"]'
                - sortorder: '1'
                  drawtype: BOLD_LINE
                  color: F63100
                  item:
                    host: 'Docker by Zabbix agent 2'
                    key: 'docker.networks.tx_bytes["{#NAME}"]'
        - uuid: 1909067e061f4383bcd8b152563ce4e7
          name: 'Images discovery'
          key: docker.images.discovery
          delay: 15m
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$DOCKER.LLD.FILTER.IMAGE.MATCHES}'
              - macro: '{#NAME}'
                value: '{$DOCKER.LLD.FILTER.IMAGE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
          description: 'Discovery of images metrics.'
          item_prototypes:
            - uuid: 8b9c1000cdf444d4b0966240dcee3fc2
              name: 'Image {#NAME}: Created'
              type: DEPENDENT
              key: 'docker.image.created["{#ID}"]'
              units: unixtime
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[?(@.Id == "{#ID}")].Created.first()'
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 1d
              master_item:
                key: docker.images
              tags:
                - tag: component
                  value: system
                - tag: image
                  value: '{#NAME}'
            - uuid: 69d269c6885f4896ab5267f1a122e1ef
              name: 'Image {#NAME}: Size'
              type: DEPENDENT
              key: 'docker.image.size["{#ID}"]'
              units: B
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$[?(@.Id == "{#ID}")].Size.first()'
              master_item:
                key: docker.images
              tags:
                - tag: component
                  value: storage
                - tag: image
                  value: '{#NAME}'
      tags:
        - tag: class
          value: software
        - tag: target
          value: docker
      macros:
        - macro: '{$DOCKER.LLD.FILTER.CONTAINER.MATCHES}'
          value: '.*'
          description: 'Filter of discoverable containers.'
        - macro: '{$DOCKER.LLD.FILTER.CONTAINER.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Filter to exclude discovered containers.'
        - macro: '{$DOCKER.LLD.FILTER.IMAGE.MATCHES}'
          value: '.*'
          description: 'Filter of discoverable images.'
        - macro: '{$DOCKER.LLD.FILTER.IMAGE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'Filter to exclude discovered images.'
      dashboards:
        - uuid: 9f11a231e745464590e627847872d16d
          name: 'Docker overview'
          pages:
            - widgets:
                - type: graph
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Docker by Zabbix agent 2'
                        name: 'Docker: Containers'
                    - type: STRING
                      name: reference
                      value: AAAAA
                - type: graph
                  'y': '5'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Docker by Zabbix agent 2'
                        name: 'Docker: Memory total'
                    - type: STRING
                      name: reference
                      value: AAAAC
                - type: graph
                  'y': '10'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Docker by Zabbix agent 2'
                        name: 'Docker: Images'
                    - type: STRING
                      name: reference
                      value: AAAAE
                - type: graph
                  x: '36'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Docker by Zabbix agent 2'
                        name: 'Docker: Size'
                    - type: STRING
                      name: reference
                      value: AAAAB
                - type: graph
                  x: '36'
                  'y': '5'
                  width: '36'
                  height: '5'
                  fields:
                    - type: GRAPH
                      name: graphid.0
                      value:
                        host: 'Docker by Zabbix agent 2'
                        name: 'Docker: Goroutines'
                    - type: STRING
                      name: reference
                      value: AAAAD
      valuemaps:
        - uuid: 37405d5fdd80487db50c51fd3d4380a5
          name: 'Docker container health state'
          mappings:
            - value: '1'
              newvalue: starting
            - value: '2'
              newvalue: unhealthy
            - value: '3'
              newvalue: healthy
            - value: '4'
              newvalue: none
        - uuid: b97dad41a91d441ebf8ea52b3b88ab18
          name: 'Docker date format'
          mappings:
            - value: '-1'
              newvalue: 'Error parsing date'
            - value: '-62135596800'
              newvalue: 'Null time'
        - uuid: 48635de6cbba4361b0878bb8e6a73ee0
          name: 'Docker flag'
          mappings:
            - value: '0'
              newvalue: 'False'
            - value: '1'
              newvalue: 'True'
        - uuid: 0dfa84c818f64506869f8b15515a1e24
          name: 'Service state'
          mappings:
            - value: '0'
              newvalue: Down
            - value: '1'
              newvalue: Up
  graphs:
    - uuid: d14b6f68265b4cecb546cca2082260d8
      name: 'Docker: Containers'
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.containers.running
        - sortorder: '1'
          drawtype: BOLD_LINE
          color: F63100
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.containers.paused
        - sortorder: '2'
          drawtype: BOLD_LINE
          color: 00611C
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.containers.stopped
        - sortorder: '3'
          drawtype: BOLD_LINE
          color: F7941D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.containers.total
    - uuid: 171a8613d8614739a744206850e549be
      name: 'Docker: Goroutines'
      graph_items:
        - drawtype: GRADIENT_LINE
          color: 199C0D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.goroutines
    - uuid: a9c9984cd0f44b11a641d508767a9672
      name: 'Docker: Images'
      graph_items:
        - drawtype: BOLD_LINE
          color: 199C0D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.images.top_level
        - sortorder: '1'
          drawtype: BOLD_LINE
          color: F63100
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.images.total
    - uuid: 256c018ecfa94812886babe54c310e7f
      name: 'Docker: Memory total'
      graph_items:
        - drawtype: BOLD_LINE
          color: 199C0D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.mem.total
    - uuid: 736c2eab7efa4bd1a6abc07d13cc66b2
      name: 'Docker: Size'
      graph_items:
        - drawtype: BOLD_LINE
          color: 199C0D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.images_size
        - sortorder: '1'
          drawtype: BOLD_LINE
          color: F63100
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.layers_size
        - sortorder: '2'
          drawtype: BOLD_LINE
          color: 00611C
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.containers_size
        - sortorder: '3'
          drawtype: BOLD_LINE
          color: F7941D
          item:
            host: 'Docker by Zabbix agent 2'
            key: docker.volumes_size
