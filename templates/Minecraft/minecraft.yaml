zabbix_export:
  version: '7.4'
  template_groups:
    - uuid: 7df96b18c230490a9a0a9e2307226338
      name: Templates
  templates:
    - uuid: cc027d334c7e413a94c7b224ce201cc3
      template: Minecraft
      name: Minecraft
      description: 'TCP check against Minecraft ports'
      vendor:
        name: astsu777
        version: 1.0.3
      groups:
        - name: Templates
      items:
        - uuid: 156b7cbc633d419ba56d33e77bbb8b4c
          name: 'Minecraft Service'
          type: SIMPLE
          key: 'net.tcp.service[tcp,{$MINECRAFT.HOST},{$MINECRAFT.PORT}]'
          description: 'TCP check against the Minecraft port'
          valuemap:
            name: Status
          tags:
            - tag: Application
              value: Minecraft
          triggers:
            - uuid: 23840286c68a43bf8af381ddf774f896
              expression: 'last(/Minecraft/net.tcp.service[tcp,{$MINECRAFT.HOST},{$MINECRAFT.PORT}],#1)=0'
              name: 'Minecraft instance is DOWN'
              priority: HIGH
        - uuid: e27820d83c834dd690820ae953d72103
          name: 'Minecraft SFTP Service'
          type: SIMPLE
          key: 'net.tcp.service[tcp,{$MINECRAFT.HOST},{$MINECRAFT.SFTP.PORT}]'
          description: 'TCP check against the Minecraft SFTP port'
          valuemap:
            name: Status
          tags:
            - tag: Application
              value: Minecraft
          triggers:
            - uuid: 14abf4ea1cf547dbbdbb3b3c18b4a762
              expression: 'last(/Minecraft/net.tcp.service[tcp,{$MINECRAFT.HOST},{$MINECRAFT.SFTP.PORT}],#1)=0'
              name: 'Minecraft SFTP server is DOWN'
              priority: AVERAGE
      tags:
        - tag: class
          value: software
        - tag: target
          value: minecraft
      macros:
        - macro: '{$MINECRAFT.HOST}'
          value: '{HOST.HOST}'
          description: 'FQDN/IP of the Minecraft server if different from the host'
        - macro: '{$MINECRAFT.PORT}'
          value: '25565'
          description: 'TCP port of the Minecraft listener'
        - macro: '{$MINECRAFT.SFTP.PORT}'
          value: '22'
          description: 'TCP port of the Minecraft instance SFTP listener'
      valuemaps:
        - uuid: e2031348622d43b5a892bd630b57ab65
          name: Status
          mappings:
            - value: '0'
              newvalue: Down
            - value: '1'
              newvalue: Up
