zabbix_export:
  version: '7.4'
  template_groups:
    - uuid: 6e078d80fa084ed284ef6b18dc6e1c44
      name: Templates/Magvice
  templates:
    - uuid: afc0409024224924b8d63743c4f58735
      template: 'Magvice - Postfix'
      name: 'Magvice - Postfix'
      description: 'Template to monitor Postfix mailer by Zabbix agent'
      vendor:
        name: astsu777
        version: 1.0.0
      groups:
        - name: Templates/Magvice
      items:
        - uuid: bd82dcd901404ebba19b4d61c93c2d40
          name: 'Postfix: Volume delivered'
          type: DEPENDENT
          key: postfix.bytes_delivered
          history: 7d
          units: b
          description: 'Number over bytes delivered by this Postfix instance since last check'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.[''bytes delivered'']'
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: network
        - uuid: 6743fbc1b16640a382f8f6736447028e
          name: 'Postfix: Volume received'
          type: DEPENDENT
          key: postfix.bytes_received
          history: 7d
          units: b
          description: 'Number over bytes received by this Postfix instance since last check'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.[''bytes received'']'
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: network
        - uuid: be2d51e945dc49e493d93a5c509be8bd
          name: 'Postfix: Get log summary'
          key: postfix.logsummary
          history: '0'
          value_type: TEXT
          description: 'Get maillog summary as generated by pflogsumm.pl'
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  // Extract totals from Postfix log summary to JSON
                  const byteSuffixes = ["k", "m"];
                  const bounce_reasons_order = ["550invalid", "551noauth", "552toobig", "553nonascii", "554error", "nullmx", "other"]
                  const bounce_reasons = {
                          "550invalid":   /^\s+([0-9]+).+ said: 550( |\-)/,    // Invalid user
                  	"551noauth":    /^\s+([0-9]+).+ said: 551( |\-)/,    // Not authorized
                  	"552toobig":    /^\s+([0-9]+).+ said: 552( |\-)/,    // Too big
                  	"553nonascii":  /^\s+([0-9]+).+ said: 553( |\-)/,    // Non ascii not permitted
                  	"554error":     /^\s+([0-9]+).+ said: 554( |\-)/,    // Other delivery error
                  	"nullmx":       /^\s+([0-9]+).+ \(nullMX\)/,         // no MX for host
                          "other":        /^\s+([0-9]+).+/                     // catch all other errors
                  }
                  const reject_reasons_order = ["454norelay", "550nouser", "553sendernotuser", "554senderdenied"]
                  var mode = ""

                  // Init output
                  var output = {};
                  for (var k = 0; k < bounce_reasons_order.length; k++) {
                      output["bounced_"+bounce_reasons_order[k]] = 0;
                  }
                  for (var k = 0; k < reject_reasons_order.length; k++) {
                      output["rejected_"+reject_reasons_order[k]] = 0;
                  }
                  output["rejected_other"] = 0;

                  // Read input
                  var lines = value.split('\n');

                  for (var i = 0; i < lines.length; i++) {
                      if (lines[i] === "messages") {
                          mode = "messages";
                          continue;
                      } else if (lines[i].match(/^message bounce detail \(by relay\)/)) {
                          mode = "bounce";
                          i++;
                          continue;
                      } else if (lines[i].match(/^message reject detail/)) {
                          mode = "reject";
                          i+=2;
                          continue;
                      } else if (lines[i].match(/^message reject warning detail/)) {
                          break;
                      } else {
                          if (mode === "messages") {
                              // Get all "<number of messages> type" pairs as an object
                              var line = lines[i].match(/^\s+([0-9]+[km]?)\s+(\w+(?:\s[\w\/]+)*)/);
                              if (line !== null) {
                                  var lastLetter = line[1].slice(line[1].length - 1, line[1].length);
                                  // convert 'k' and 'm' values to bytes
                                  if (isNaN(lastLetter)) {
                                      const multiplier = byteSuffixes.indexOf(lastLetter) + 1;
                                      output[line[2]] = Number(line[1].slice(0, line[1].length - 1)) * 1024 ** multiplier;
                                  } else {
                                      output[line[2]] = Number(line[1]);
                                  }
                              }
                          } else if (mode === "bounce") {
                              // get bounce reasons totals
                              for (var k = 0; k < bounce_reasons_order.length; k++) {
                                  var line = lines[i].match(bounce_reasons[bounce_reasons_order[k]]);
                                  if (line !== null) {
                                      output["bounced_"+bounce_reasons_order[k]] += Number(line[1]);
                                      break;
                                  }
                              }
                          } else if (mode === "reject") {
                              // get reject reasons totals
                              var line = lines[i].match(/\s+([0-9]+) .+ \(total: ([0-9]+)\)/);
                              if (line !== null) {
                                  var found = 0;
                                  for (var k = 0; k < reject_reasons_order.length; k++) {
                                      if (line[1] == reject_reasons_order[k].slice(0,3)) {
                                          output["rejected_"+reject_reasons_order[k]] += Number(line[2]);
                                          found = 1;
                                          break;
                                      }
                                  }
                                  if (!found) {
                                      output["rejected_other"] += Number(line[2]);
                                  }
                              }
                          }
                      }
                  }

                  // Return JSON string
                  return JSON.stringify(output);
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: 'mail statistics'
            - tag: component
              value: raw
        - uuid: 10b942325b2541bfa2a8f497b7673ad3
          name: 'Postfix: Mails bounced'
          type: DEPENDENT
          key: postfix.mail.bounced
          history: 7d
          description: 'Number of mails bounced on this Postfix instance since last check'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.bounced
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: 'mail statistics'
          triggers:
            - uuid: ddb9aa399bc241a6b7a2a366571ae73a
              expression: 'sum(/Magvice - Postfix/postfix.mail.bounced,{$POSTFIX.TRIGGER.PERIOD:"bounced"})>{$POSTFIX.BOUNCED.MAX}'
              name: 'Postfix: High number of bounced mails'
              event_name: 'Postfix: High number of bounced mails (> {$POSTFIX.BOUNCED.MAX} in {$POSTFIX.TRIGGER.PERIOD:"bounced"})'
              opdata: 'Bounced mails last {$POSTFIX.TRIGGER.PERIOD:"bounced"}: {?sum(/Postfix by Zabbix agent/postfix.mail.bounced,{$POSTFIX.TRIGGER.PERIOD:"bounced"})}'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: availability
        - uuid: 29025627cd0f4f12a2cc63d0051623cd
          name: 'Postfix: Bounced: Invalid recipient'
          type: DEPENDENT
          key: postfix.mail.bounced_550invalid
          history: 7d
          description: 'Number over mails bounced due to Error 550 Invalid user. The remote user mailbox was not found or is blocked due to remote server policy rules.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.bounced_550invalid
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: 'mail statistics'
        - uuid: 91f0d39067934538a0ff51fd0cbeee4e
          name: 'Postfix: Bounced: User unknown'
          type: DEPENDENT
          key: postfix.mail.bounced_551noauth
          history: 7d
          description: 'Number over mails bounced due to authorization problems.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.bounced_551noauth
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: 'mail statistics'
        - uuid: 9dff4186d3cc4b5183a0176cdb89c7b2
          name: 'Postfix: Bounced: Too much data'
          type: DEPENDENT
          key: postfix.mail.bounced_552toobig
          history: 7d
          description: 'Number over mails bounced due to message size restrictions on remote host/domain.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.bounced_552toobig
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: 'mail statistics'
        - uuid: a14589accc4145c5b6b1b0bcfe5a135f
          name: 'Postfix: Bounced: Invalid user'
          type: DEPENDENT
          key: postfix.mail.bounced_553nonascii
          history: 7d
          description: 'Number over mails bounced due to invalid recipient mailbox name. Possibly non-ASCII characters where used.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.bounced_553nonascii
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: 'mail statistics'
        - uuid: 757be76b1fcb4c868caa57a4cae256e5
          name: 'Postfix: Bounced: General error'
          type: DEPENDENT
          key: postfix.mail.bounced_554error
          history: 7d
          description: 'Number over mails bounced due to Error 554: transaction failed.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.bounced_554error
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: 'mail statistics'
        - uuid: 93e66c07358b4592a79e7e72e80fa964
          name: 'Postfix: Bounced: No MX server found'
          type: DEPENDENT
          key: postfix.mail.bounced_nullmx
          history: 7d
          description: 'Number over mails bounced because Postfix could not resolve a MX record for the destination host/domain.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.bounced_nullmx
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: 'mail statistics'
        - uuid: 512d667645064f4c902f2b6ee7bb0f32
          name: 'Postfix: Bounced: Other permanent delivery error'
          type: DEPENDENT
          key: postfix.mail.bounced_other
          history: 7d
          description: 'Number over mails bounced due to a permanent delivery error not known to Zabbix.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.bounced_other
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: 'mail statistics'
        - uuid: d39db2c18dcc448aa478a187a7c42019
          name: 'Postfix: Mails delivered'
          type: DEPENDENT
          key: postfix.mail.delivered
          history: 7d
          description: 'Number of mails delivered by this Postfix instance since last check'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.delivered
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: 'mail statistics'
        - uuid: 6a94452ed89a4da3bfa9a3c97e82641e
          name: 'Postfix: Mails discarded'
          type: DEPENDENT
          key: postfix.mail.discarded
          history: 7d
          description: 'Number of mails discarded by this Postfix instance since last check'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.discarded
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: 'mail statistics'
        - uuid: 2c8bff2db8e94800bd87f881f3db9497
          name: 'Postfix: Mails forwarded'
          type: DEPENDENT
          key: postfix.mail.forwarded
          history: 7d
          description: 'Number of mails forwarded by this Postfix instance since last check'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.forwarded
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: 'mail statistics'
        - uuid: 426dd1b1a78c4af5bface6e5ae697f32
          name: 'Postfix: Mails received'
          type: DEPENDENT
          key: postfix.mail.received
          history: 7d
          description: 'Number of mails received on this Postfix instance since last check'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.received
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: 'mail statistics'
        - uuid: 4270c5c401714b65863178d3f70978be
          name: 'Postfix: Number of recipients'
          type: DEPENDENT
          key: postfix.mail.recipients
          history: 7d
          description: 'Number of unique mail recipients on this Postfix instance since last check'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.recipients
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: 'mail statistics'
        - uuid: b07c6a246dec45acb97b78f5255dd3de
          name: 'Postfix: Mails rejected'
          type: DEPENDENT
          key: postfix.mail.rejected
          history: 7d
          description: 'Number over mails rejected by this Postfix instance since last check'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.rejected
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: 'mail statistics'
          triggers:
            - uuid: 873095eff9524602aba56302149776a8
              expression: 'sum(/Magvice - Postfix/postfix.mail.rejected,{$POSTFIX.TRIGGER.PERIOD:"rejected"})>{$POSTFIX.REJECT.MAX}'
              name: 'Postfix: High number of rejected mails'
              event_name: 'Postfix: High number of rejected mails (> {$POSTFIX.REJECTED.MAX} in {$POSTFIX.TRIGGER.PERIOD:"rejected"})'
              opdata: 'Bounced mails last {$POSTFIX.TRIGGER.PERIOD:"rejected"}: {?sum(/Postfix by Zabbix agent/postfix.mail.rejected,{$POSTFIX.TRIGGER.PERIOD:"rejected"})}'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: security
        - uuid: f59474461d2f4ba7bff51f65549dde5c
          name: 'Postfix: Rejected: Relay access denied'
          type: DEPENDENT
          key: postfix.mail.rejected_454norelay
          history: 7d
          description: 'Number of mails rejected by Postfix due to Error 454: Relay access denied. Relaying to the destination domain is possibly prohibitted by this instance or authentication was required for sending this message.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.rejected_454norelay
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: 'mail statistics'
        - uuid: 4296bc321d514f309dcdb19df18d2171
          name: 'Postfix: Rejected: Recipient address rejected'
          type: DEPENDENT
          key: postfix.mail.rejected_550nouser
          history: 7d
          description: 'Number of mails rejected by Postfix due to a rejected recipient address. This can be due to policies or due to grey- or blacklisting.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.rejected_550nouser
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: 'mail statistics'
        - uuid: 6e424c244d8448f996dec9006297c41b
          name: 'Postfix: Rejected: Sender address not owned by user'
          type: DEPENDENT
          key: postfix.mail.rejected_553sendernotuser
          history: 7d
          description: 'Number of mails rejected by Postfix due to a sender address that is not owned by the user submitting the message.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.rejected_553sendernotuser
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: 'mail statistics'
        - uuid: 999cd5050c584e31b0c946a2bf787479
          name: 'Postfix: Rejected: Sender address denied'
          type: DEPENDENT
          key: postfix.mail.rejected_554senderdenied
          history: 7d
          description: 'Number of mails rejected by Postfix due to a sender address that is not allowed.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.rejected_554senderdenied
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: 'mail statistics'
        - uuid: b69f613f36f8447f80db123e4aa5af71
          name: 'Postfix: Rejected: Other'
          type: DEPENDENT
          key: postfix.mail.rejected_other
          history: 7d
          description: 'Number of mails rejected by Postfix due to a reason unknown to Zabbix.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.rejected_other
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: 'mail statistics'
        - uuid: eef010df3d524e1989febea92b6772fa
          name: 'Postfix: Number of senders'
          type: DEPENDENT
          key: postfix.mail.senders
          history: 7d
          description: 'Number of unique mail senders on this Postfix instance since last check'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.senders
          master_item:
            key: postfix.logsummary
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: 'mail statistics'
        - uuid: 743b3fa2eddf4cca9df5209117f0743a
          name: 'Postfix: Get queue'
          key: postfix.queue
          history: '0'
          value_type: TEXT
          description: 'Get current Postfix queue'
          preprocessing:
            - type: JAVASCRIPT
              parameters:
                - |
                  // Parse postqueue output
                  const deferred_reasons_order = ["tlsfailed", "crefused", "ctimeout", "rtimeout", "nohost", "msrefused", "noroute",
                                                  "lostc", "ipblocked", "err421", "err450", "err451", "err452", "err454", "err4"];
                  const deferred_reasons = {
                      "tlsfailed": /Cannot start TLS/,
                      "crefused": /Connection refused/,
                      "ctimeout": /(Connection timed out|timed out while)/,
                      "rtimeout": /read timeout/,
                      "nohost": /Host (or domain name )?not found/,
                      "msrefused": /server refused mail service/,
                      "noroute": /No route to host/,
                      "lostc": /lost connection with/,
                      "ipblocked": /refused to talk to me: 554/,
                      "err421": /(refused to talk to me: 421|: 421(\ |\)|\-))/,
                      "err450": /: 450( |\-)/, // Delivery warning (address rejected)
                      "err451": /: 451( |\-)/, // Temp error
                      "err452": /: 452( |\-)/, // Over quota
                      "err454": /: 454( |\-)/, // Relay access denied
                      "err4": /said: 4/ // Catch all 4xx errors
                  }

                  // Init output
                  var output = {
                      "queue_size": 0,
                      "queue_messages": 0,
                      "active": 0,
                      "hold": 0,
                      "deferred":0,
                      "deferred_other": 0
                  }
                  for (var k = 0; k < deferred_reasons_order.length; k++) {
                      output["deferred_"+deferred_reasons_order[k]] = 0;
                  }

                  // Read lines
                  var lines = value.split('\n');

                  for (var i = 0; i < lines.length; i++) {
                      if(lines[i]) {
                          var line = JSON.parse(lines[i]);
                          // Size and message count
                          output['queue_size'] += line['message_size'];
                          output['queue_messages']++;

                          // if queue is deferred, count errors, if active or hold, do normal count
                          if (line['queue_name'] == 'active') {
                              output['active']++;
                          } else if (line['queue_name'] == 'hold') {
                              output['hold']++;
                          } else if (line['queue_name'] == 'deferred') {
                              output['deferred']++;
                              var found;
                              for (var j = 0; j < line['recipients']; j++) {
                                  found = 0;
                                  for (k = 0; k < deferred_reasons_order; k++) {
                                      if (line['recipients'][j]['delay_reason'].match(deferred_reasons[k])) {
                                          output['deferred_'+deferred_reasons_order[k]]++;
                                          found = 1;
                                          break;
                                      }
                                  }
                                  if (!found) {
                                      output['deferred_other']++;
                                  }
                              }
                          }
                      }
                  }

                  // Return JSON string
                  return JSON.stringify(output);
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: queue
            - tag: component
              value: raw
        - uuid: ff772049c68441789b367f3a6a41a35e
          name: 'Postfix: Mails in queue: Active'
          type: DEPENDENT
          key: postfix.queue.active
          history: 7d
          description: 'Messages  that the queue manager has opened for delivery. Only a limited number of messages is allowed to enter the active  queue (leaky bucket strategy, for a fixed delivery rate).'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.active
          master_item:
            key: postfix.spool
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: queue
          triggers:
            - uuid: c6472595491946cb8cb93a23d52647d2
              expression: 'min(/Magvice - Postfix/postfix.queue.active,5m)>{$POSTFIX.ACTIVE.MAX}'
              name: 'Postfix: High number of mails in active queue'
              event_name: 'Postfix: High number of mails in active queue for more than 5m (> {$POSTFIX.ACTIVE.MAX})'
              opdata: 'Mails in queue: {ITEM.LASTVALUE}'
              priority: WARNING
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 5dbeec653c4a49bdb0f7daf8dc2bc3ed
          name: 'Postfix: Mails in queue: Corrupt'
          type: DEPENDENT
          key: postfix.queue.corrupt
          history: 7d
          description: 'Number of unreadable or damaged queue files'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.corrupt
          master_item:
            key: postfix.spool
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: queue
          triggers:
            - uuid: db89266a109940a48586e6d0f11e4722
              expression: 'last(/Magvice - Postfix/postfix.queue.corrupt)>0'
              name: 'Postfix: One or more corrupt message files in queue'
              opdata: 'Corrupt mails in queue: {ITEM.LASTVALUE}'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: availability
        - uuid: 057fa6d99a9b47f6b3c456e6942c1570
          name: 'Postfix: Mails in queue: Deferred'
          type: DEPENDENT
          key: postfix.queue.deferred
          history: 7d
          description: 'Mail  that  could  not  be delivered upon the first attempt. The queue manager implements exponential backoff by doubling the time between delivery attempts.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred
          master_item:
            key: postfix.spool
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: queue
          triggers:
            - uuid: e56d6491740646d9a4fb614f3e10a3fc
              expression: 'min(/Magvice - Postfix/postfix.queue.deferred,5m)>{$POSTFIX.DEFERRED.MAX}'
              name: 'Postfix: High number of deferred mails'
              event_name: 'Postfix: High number of deferred mails for more than 5m (> {$POSTFIX.DEFERRED.MAX})'
              opdata: 'Deferred mails in queue: {ITEM.LASTVALUE}'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: availability
        - uuid: 4391b95f2050490ca2ea03f196e2544e
          name: 'Postfix: Deferred: Connection refused'
          type: DEPENDENT
          key: postfix.queue.deferred_crefused
          history: 7d
          description: 'Number over mails deferred because connection to destination host/domain was refused.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_crefused
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: 70d5c166fd1d459ca1ba3b037e420567
          name: 'Postfix: Deferred: Connection timed out'
          type: DEPENDENT
          key: postfix.queue.deferred_ctimeout
          history: 7d
          description: 'Number of mails deferred because of connection timeouts connecting to destination host/domain.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_ctimeout
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: cd0f1a5fe1904573984c09390233a1a9
          name: 'Postfix: Deferred: General 4.x error'
          type: DEPENDENT
          key: postfix.queue.deferred_err4
          history: 7d
          description: 'Number of mails deferred due to a sending error not known by Zabbix.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_err4
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: cdf081dd07fc4f64bc000e27241ec7ff
          name: 'Postfix: Deferred: Destination server not available'
          type: DEPENDENT
          key: postfix.queue.deferred_err421
          history: 7d
          description: 'SMTP Error 421: The remote mail service is currently not available and the connection is closed.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_err421
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: 6033bc881f6f45fb8def61c67cfd8743
          name: 'Postfix: Deferred: Delivery currently denied'
          type: DEPENDENT
          key: postfix.queue.deferred_err450
          history: 7d
          description: 'Number of mails deferred because the remote user''s mailbox was unavailable (for example because it was locked).'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_err450
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: 6398ff07261f428b970237f77f0f8262
          name: 'Postfix: Deferred: Delivery temporary suspended'
          type: DEPENDENT
          key: postfix.queue.deferred_err451
          history: 7d
          description: 'Number of mails deferred due to a temporary delivery error on the destination server. This could be greylisting or any other internal server error on the destination.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_err451
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: c1d03ef815634e6dae78d57de6930bf3
          name: 'Postfix: Deferred: Destination server storage problem'
          type: DEPENDENT
          key: postfix.queue.deferred_err452
          history: 7d
          description: 'Number of mails deferred due to a storage error on the remote server end. Possible the destination user''s mailbox has reached a quota.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_err452
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: f93e3ea625774a458eff4d7b0b8cc33b
          name: 'Postfix: Deferred: Relay access denied'
          type: DEPENDENT
          key: postfix.queue.deferred_err454
          history: 7d
          description: 'Number of mails deferred due to relaying errors.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_err454
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: a5078a7d05d1450e8431529cd1b971ab
          name: 'Postfix: Deferred: IP temporary blocked'
          type: DEPENDENT
          key: postfix.queue.deferred_ipblocked
          history: 7d
          description: 'Number of mails deferred because destination host/domain refuses connections from the IP of the Postfix server.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_ipblocked
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: ce0554fee3cf4e31ab1c9d435a69f26b
          name: 'Postfix: Deferred: Lost connection with server'
          type: DEPENDENT
          key: postfix.queue.deferred_lostc
          history: 7d
          description: 'Number of mails deferred because the connection with the destination host/domain was lost during communication.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_lostc
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: 1171573302904eb2a2c8ff93968b715f
          name: 'Postfix: Deferred: Mail service refused'
          type: DEPENDENT
          key: postfix.queue.deferred_msrefused
          history: 7d
          description: 'Number of mails deferred because destination host/domain refused accepting our mail service.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_msrefused
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: f0690355a3d74b8b96b4a156b9778543
          name: 'Postfix: Deferred: Host or domain name not found'
          type: DEPENDENT
          key: postfix.queue.deferred_nohost
          history: 7d
          description: 'Number of mails deferred because destination host/domain could not be found.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_nohost
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: 1ede76866f9c4a998a75ab34a511d127
          name: 'Postfix: Deferred: No route to host'
          type: DEPENDENT
          key: postfix.queue.deferred_noroute
          history: 7d
          description: 'Number of mails deferred because Postfix could not find a route to the destination host/domain.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_noroute
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: c935ba5bcd7443e0a7621c3f3c9e093f
          name: 'Postfix: Deferred: Read timeout'
          type: DEPENDENT
          key: postfix.queue.deferred_rtimeout
          history: 7d
          description: 'Number of mails deferred because of read timeouts communication with destination host/domain.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_rtimeout
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: 7548544737674708ab3b6cf24c06d5a0
          name: 'Postfix: Deferred: Cannot start TLS'
          type: DEPENDENT
          key: postfix.queue.deferred_tlsfailed
          history: 7d
          description: 'Number over mails deferred due to TLS start errors connecting to destination host/domain.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.deferred_tlsfailed
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: error
            - tag: component
              value: queue
        - uuid: 117820169a1d43029337d75d6bb0f875
          name: 'Postfix: Mails in queue: Hold'
          type: DEPENDENT
          key: postfix.queue.hold
          history: 7d
          description: 'Number of messages that are kept "on hold"  in the queue. Message are kept "on hold" until someone sets them free.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.hold
          master_item:
            key: postfix.spool
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: queue
          triggers:
            - uuid: 6e6a34e6faf340c2a66f591a0a8abfad
              expression: 'min(/Magvice - Postfix/postfix.queue.hold,5m)>{$POSTFIX.HOLD.MAX}'
              name: 'Postfix: High number of held mails'
              event_name: 'Postfix: High number of held mails for more than 5m (> {$POSTFIX.HOLD.MAX})'
              opdata: 'Held mails in queue: {ITEM.LASTVALUE}'
              priority: AVERAGE
              tags:
                - tag: scope
                  value: availability
        - uuid: 4f58cb4d4c614155b893ecbf658fdc0d
          name: 'Postfix: Mails in queue: Incoming'
          type: DEPENDENT
          key: postfix.queue.incoming
          history: 7d
          description: 'Inbound mail from the network, or mail picked up by the local pickup daemon from the maildrop directory.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.incoming
          master_item:
            key: postfix.spool
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: queue
        - uuid: a5175db6e9d445329a07a278fc92d366
          name: 'Postfix: Mails in queue: Maildrop'
          type: DEPENDENT
          key: postfix.queue.maildrop
          history: 7d
          description: 'Local mail-files waiting to be picked up by the local pickup daemon.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.maildrop
          master_item:
            key: postfix.spool
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: queue
        - uuid: 40d18f94e0014d0b8985c9b6189d3fb9
          name: 'Postfix: Mails in queue size'
          type: DEPENDENT
          key: postfix.queue.size
          history: 7d
          units: b
          description: 'Total size of messages in queue'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.queue_size
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: queue
        - uuid: 0c57b620922f4f0590cc00a776e51d43
          name: 'Postfix: Mails in queue total'
          type: DEPENDENT
          key: postfix.queue.total
          history: 7d
          description: 'Total number of messages in queue'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.queue_messages
          master_item:
            key: postfix.queue
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
            - tag: component
              value: queue
        - uuid: b8ac55e1222b48beade3a2a63d16bfa3
          name: 'Postfix: Get spool directories'
          key: postfix.spool
          history: '0'
          value_type: TEXT
          description: 'Get current Postfix spool directories state'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: queue
            - tag: component
              value: raw
        - uuid: 2fdc23e422164b58887551be4e58a68c
          name: 'Postfix: Version'
          key: postfix.version
          delay: 10m
          history: 7d
          value_type: CHAR
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: application
          triggers:
            - uuid: d25be10e36694febb10fb5d19634520a
              expression: 'last(/Magvice - Postfix/postfix.version,#1)<>last(/Magvice - Postfix/postfix.version,#2) and length(last(/Magvice - Postfix/postfix.version))>0'
              name: 'Postfix: Version has changed'
              event_name: 'Postfix: Version has changed (new version: {ITEM.VALUE})'
              priority: INFO
              description: 'Postfix version has changed. Acknowledge to close the problem manually.'
              tags:
                - tag: scope
                  value: notice
        - uuid: baf51df67d2640de9bae4306f41cf95d
          name: 'Postfix: CPU utilization: All worker services'
          key: 'proc.cpu.util[,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running postfix worker-processes (qmgr, postscreen, tlsmgr, anvil, pickup, smtpd, ...)'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
        - uuid: e8b67bc460974d5e8bebc42f7cb93e12
          name: 'Postfix: CPU utilization: Anvil service'
          key: 'proc.cpu.util[anvil,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix Anvil processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: anvil
            - tag: component
              value: cpu
        - uuid: 688cbe1f5141473e86d198935f5cf7b2
          name: 'Postfix: CPU utilization: Bounce service'
          key: 'proc.cpu.util[bounce,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix Bounce processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: bounce
            - tag: component
              value: cpu
        - uuid: a8a0d3a7569f4ba38bc959a9bb76f983
          name: 'Postfix: CPU utilization: Cleanup service'
          key: 'proc.cpu.util[cleanup,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix Cleanup processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cleanup
            - tag: component
              value: cpu
        - uuid: 4e2f88c58122471aa5d05ac359456042
          name: 'Postfix: CPU utilization: Flush service'
          key: 'proc.cpu.util[flush,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix flush processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: flush
        - uuid: 430254293cfb455798c844caadc90203
          name: 'Postfix: CPU utilization: Local service'
          key: 'proc.cpu.util[local,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix Local processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: local
        - uuid: fc66e11c24614840832f0b3bd663ab87
          name: 'Postfix: CPU utilization: Master service'
          key: 'proc.cpu.util[master,root]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'CPU utilization of Postfix Master service'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: master
        - uuid: 42d585e52c624a60984f3ab64110cc9b
          name: 'Postfix: CPU utilization: Pickup service'
          key: 'proc.cpu.util[pickup,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix Pickup processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: pickup
        - uuid: c5158687e2aa464c8ab6b19c41671408
          name: 'Postfix: CPU utilization: Queue Manager'
          key: 'proc.cpu.util[qmgr,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix qmgr processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: qmgr
        - uuid: 04e6c0fc8064416fa61e37c949ef07a4
          name: 'Postfix: CPU utilization: Shared Cache'
          key: 'proc.cpu.util[scache,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix scache processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: scache
        - uuid: 597ed707b45746ec8f61d6670b5eea8f
          name: 'Postfix: CPU utilization: Show Queue service'
          key: 'proc.cpu.util[showq,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix showq processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: showq
        - uuid: b5352a1aecf647bdbb6bf73604135ea7
          name: 'Postfix: CPU utilization: SMTP Runner'
          key: 'proc.cpu.util[smtp,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix smtp processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: smtp
        - uuid: ff18887abc4943d79373bf1100035a49
          name: 'Postfix: CPU utilization: SMTP Daemon'
          key: 'proc.cpu.util[smtpd,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix smtpd processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: smtpd
        - uuid: 44b60f1755b74873a5996a72c15cbd26
          name: 'Postfix: CPU utilization: TLS Manager'
          key: 'proc.cpu.util[tlsmgr,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix tlsmgr processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: tlsmgr
        - uuid: 511ce3288dc64bed834fe5fda1f22ca3
          name: 'Postfix: CPU utilization: Trivial Rewrite service'
          key: 'proc.cpu.util[trivial-rewrite,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix trivial-rewrite processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: trivial-rewrite
        - uuid: db6215f9985d4da5842507edfe138413
          name: 'Postfix: CPU utilization: Verify service'
          key: 'proc.cpu.util[verify,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix verify processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: verify
        - uuid: f19060a7fd70471b85385a063ff39536
          name: 'Postfix: CPU utilization: Virtual service'
          key: 'proc.cpu.util[virtual,{$POSTFIX_USER}]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Total CPU utilization of running Postfix virtual processes'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cpu
            - tag: component
              value: virtual
        - uuid: fd7c49b99970430f9729715b2799378d
          name: 'Postfix: Memory used: All worker services'
          key: 'proc.mem[,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: memory
        - uuid: e5e1ca0c93154aa58f5aa2ccec568b5f
          name: 'Postfix: Memory used: Anvil service'
          key: 'proc.mem[anvil,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: anvil
            - tag: component
              value: memory
        - uuid: d9e9be62dc1d4d39b0c6761aa6d31f3a
          name: 'Postfix: Memory used: Bounce service'
          key: 'proc.mem[bounce,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: bounce
            - tag: component
              value: memory
        - uuid: 6dd7c1b032ce4d1792c1016919b27159
          name: 'Postfix: Memory used: Cleanup service'
          key: 'proc.mem[cleanup,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cleanup
            - tag: component
              value: memory
        - uuid: 3748156d56114ad994f2b6885dd64cdf
          name: 'Postfix: Memory used: Flush service'
          key: 'proc.mem[flush,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: flush
            - tag: component
              value: memory
        - uuid: c057e91c1e5440d5bb1b032cf13acff2
          name: 'Postfix: Memory used: Local service'
          key: 'proc.mem[local,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: local
            - tag: component
              value: memory
        - uuid: 2c65c3eef55a4439abacffd4f9d4178b
          name: 'Postfix: Memory used: Master service'
          key: 'proc.mem[master,root]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: master
            - tag: component
              value: memory
        - uuid: 149be732b1d244ab9537f53c39cc3b4a
          name: 'Postfix: Memory used: Pickup service'
          key: 'proc.mem[pickup,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: memory
            - tag: component
              value: pickup
        - uuid: bb354ff2e36849b295fe4da89bdabd23
          name: 'Postfix: Memory used: Queue Manager'
          key: 'proc.mem[qmgr,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: memory
            - tag: component
              value: qmgr
        - uuid: f21177ef166246798d37322adfc514ac
          name: 'Postfix: Memory used: Shared Cache'
          key: 'proc.mem[scache,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: memory
            - tag: component
              value: scache
        - uuid: 68afbcd8f7614af99a1bdda613a26499
          name: 'Postfix: Memory used: Show Queue service'
          key: 'proc.mem[showq,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: memory
            - tag: component
              value: showq
        - uuid: a86a79a968f8426cb9327856acd00e81
          name: 'Postfix: Memory used: SMTP Runner'
          key: 'proc.mem[smtp,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: memory
            - tag: component
              value: smtp
        - uuid: 0808cf41295a4a8a8565c82158433795
          name: 'Postfix: Memory used: SMTP Daemon'
          key: 'proc.mem[smtpd,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: memory
            - tag: component
              value: smtpd
        - uuid: f93e071db4dc4cea9b46e65f95690341
          name: 'Postfix: Memory used: TLS Manager'
          key: 'proc.mem[tlsmgr,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: memory
            - tag: component
              value: tlsmgr
        - uuid: 1a2bda766b0c4ca9a77724382019b4da
          name: 'Postfix: Memory used: Trivial Rewrite service'
          key: 'proc.mem[trivial-rewrite,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: memory
            - tag: component
              value: trivial-rewrite
        - uuid: 64419fa7e530467686b80dcf37e58d1e
          name: 'Postfix: Memory used: Verify service'
          key: 'proc.mem[verify,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: memory
            - tag: component
              value: verify
        - uuid: a343aa942f93452ba470388ee5e21377
          name: 'Postfix: Memory used: Virtual service'
          key: 'proc.mem[virtual,{$POSTFIX_USER}]'
          history: 7d
          units: b
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: memory
            - tag: component
              value: virtual
        - uuid: 308a3052c61141fe80a0ca8b32ac1d47
          name: 'Postfix: Running worker-processes'
          key: 'proc.num[,{$POSTFIX_USER}]'
          history: 7d
          description: 'Number of running postfix worker-processes (qmgr, postscreen, tlsmgr, anvil, pickup, smtpd, ...)'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: system
          triggers:
            - uuid: 54dff335e1774453a82275168b4acd11
              expression: 'max(/Magvice - Postfix/proc.num[,{$POSTFIX_USER}],5m)=0'
              name: 'Postfix: Services down'
              priority: HIGH
              description: 'Postfix worker services are not running.'
              dependencies:
                - name: 'Postfix: Master process is not running'
                  expression: 'max(/Magvice - Postfix/proc.num[master,root],5m)=0'
              tags:
                - tag: scope
                  value: availability
        - uuid: a2ff1ae467ac4ed0ace494454acd2982
          name: 'Postfix: Running processes: Anvil service'
          key: 'proc.num[anvil,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: anvil
            - tag: component
              value: system
        - uuid: 30c8c9bf9d9e431887bb3a6b754a013d
          name: 'Postfix: Running processes: Bounce service'
          key: 'proc.num[bounce,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: bounce
            - tag: component
              value: system
        - uuid: 803641aff0a6426a954da797ee95047c
          name: 'Postfix: Running processes: Cleanup service'
          key: 'proc.num[cleanup,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: cleanup
            - tag: component
              value: system
        - uuid: 11c1878fbca14836be70011aae149e5b
          name: 'Postfix: Running processes: Flush service'
          key: 'proc.num[flush,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: flush
            - tag: component
              value: system
        - uuid: cd991623acd744919bc37fb75ace4a70
          name: 'Postfix: Running processes: Local service'
          key: 'proc.num[local,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: local
            - tag: component
              value: system
        - uuid: a28a465865794d1a8939cb725a62b2f7
          name: 'Postfix: Running master-processes'
          key: 'proc.num[master,root]'
          history: 7d
          description: 'The Postfix Master process is the supervisor of the Postfix mail system and is responsible for starting Postfix server processes to receive and deliver mail, and for restarting servers that terminate prematurely because of some problem. At least one master process should be running.'
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: master
            - tag: component
              value: system
          triggers:
            - uuid: 92152cfd60fb42d6a5bb60399c26e0b4
              expression: 'max(/Magvice - Postfix/proc.num[master,root],5m)=0'
              name: 'Postfix: Master process is not running'
              priority: HIGH
              tags:
                - tag: scope
                  value: availability
        - uuid: c741218de78d4c498a971d6895955fa4
          name: 'Postfix: Running processes: Pickup service'
          key: 'proc.num[pickup,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: pickup
            - tag: component
              value: system
        - uuid: 50b62144bf654d1ca8f46417bf91c37a
          name: 'Postfix: Running processes: Queue Manager'
          key: 'proc.num[qmgr,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: qmgr
            - tag: component
              value: system
        - uuid: 864005ca076041789181c1268297f680
          name: 'Postfix: Running processes: Shared Cache'
          key: 'proc.num[scache,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: scache
            - tag: component
              value: system
        - uuid: 7efe71676df24c82a290451eefad6c32
          name: 'Postfix: Running processes: Show Queue service'
          key: 'proc.num[showq,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: showq
            - tag: component
              value: system
        - uuid: 48c9608dc8b940af93b11ac0fbe1b6db
          name: 'Postfix: Running processes: SMTP Runner'
          key: 'proc.num[smtp,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: smtp
            - tag: component
              value: system
        - uuid: 679ce54875144eadac48a249654f3e17
          name: 'Postfix: Running processes: SMTP Daemon'
          key: 'proc.num[smtpd,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: smtpd
            - tag: component
              value: system
        - uuid: 0ed7cd3ac03f4c63bf073828e2ed58fd
          name: 'Postfix: Running processes: TLS Manager'
          key: 'proc.num[tlsmgr,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: system
            - tag: component
              value: tlsmgr
        - uuid: cf74df9095af4e29b5dbac514638ec39
          name: 'Postfix: Running processes: Trivial Rewrite service'
          key: 'proc.num[trivial-rewrite,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: system
            - tag: component
              value: trivial-rewrite
        - uuid: 09e62fbf47554872939e662b7e1a0a56
          name: 'Postfix: Running processes: Verify service'
          key: 'proc.num[verify,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: system
            - tag: component
              value: verify
        - uuid: 6fa6fa58cea44810ba85040418fd0009
          name: 'Postfix: Running processes: Virtual service'
          key: 'proc.num[virtual,{$POSTFIX_USER}]'
          history: 7d
          tags:
            - tag: Application
              value: Postfix
            - tag: component
              value: system
            - tag: component
              value: virtual
      tags:
        - tag: class
          value: software
        - tag: target
          value: postfix
      macros:
        - macro: '{$POSTFIX.ACTIVE.MAX}'
          value: '50'
        - macro: '{$POSTFIX.BOUNCE.MAX}'
          value: '50'
          description: 'Max number of bounced messages within POSTFIX.TRIGGER.PERIOD'
        - macro: '{$POSTFIX.DEFERRED.MAX}'
          value: '50'
        - macro: '{$POSTFIX.HOLD.MAX}'
          value: '200'
        - macro: '{$POSTFIX.REJECT.MAX}'
          value: '20'
          description: 'Max number of rejected messages within POSTFIX.TRIGGER.PERIOD'
        - macro: '{$POSTFIX.TRIGGER.PERIOD}'
          value: 30m
          description: 'Time period to check for too many bounced or rejected mails. Context is supported.'
        - macro: '{$POSTFIX_USER}'
          value: postfix
          description: 'User running unprivileged postfix processes'
      dashboards:
        - uuid: c672b93f9f774938b8f30ad860988cd8
          name: 'Postfix overview'
          pages:
            - name: Overview
              widgets:
                - type: item
                  name: 'Postfix version'
                  width: '9'
                  hide_header: 'YES'
                  fields:
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Magvice - Postfix'
                        key: postfix.version
                    - type: INTEGER
                      name: show
                      value: '1'
                    - type: INTEGER
                      name: show
                      value: '2'
                - type: graph
                  'y': '2'
                  width: '21'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Magvice - Postfix'
                        name: 'Postfix: General Mail Stats'
                    - type: STRING
                      name: reference
                      value: AAAAA
                - type: graph
                  'y': '10'
                  width: '24'
                  height: '4'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Magvice - Postfix'
                        name: 'Postfix: Processes'
                    - type: STRING
                      name: reference
                      value: AAAAB
                - type: item
                  name: 'Number of Master processes'
                  x: '9'
                  width: '6'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Master processes'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Magvice - Postfix'
                        key: 'proc.num[master,root]'
                    - type: STRING
                      name: thresholds.0.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: 558B2F
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '1'
                    - type: INTEGER
                      name: units_bold
                      value: '0'
                    - type: INTEGER
                      name: units_show
                      value: '0'
                - type: item
                  name: 'Running worker-processes'
                  x: '15'
                  width: '6'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Worker processes'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Magvice - Postfix'
                        key: 'proc.num[,{$POSTFIX_USER}]'
                    - type: STRING
                      name: thresholds.0.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: FF8F00
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '1'
                    - type: STRING
                      name: thresholds.2.color
                      value: 558B2F
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '5'
                    - type: INTEGER
                      name: units_bold
                      value: '0'
                    - type: INTEGER
                      name: units_show
                      value: '0'
                - type: item
                  name: 'Postfix: CPU utilization'
                  x: '21'
                  width: '6'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: description
                      value: 'CPU utilization'
                    - type: STRING
                      name: down_color
                      value: 81C784
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Magvice - Postfix'
                        key: 'proc.cpu.util[,{$POSTFIX_USER}]'
                    - type: STRING
                      name: thresholds.0.color
                      value: 558B2F
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: FF8F00
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '40'
                    - type: STRING
                      name: thresholds.2.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '70'
                    - type: STRING
                      name: units
                      value: '%'
                    - type: STRING
                      name: up_color
                      value: EF9A9A
                - type: graph
                  x: '21'
                  'y': '2'
                  width: '21'
                  height: '4'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Magvice - Postfix'
                        name: 'Postfix: Mail in Queue'
                    - type: STRING
                      name: reference
                      value: AAAAC
                - type: graph
                  x: '21'
                  'y': '6'
                  width: '21'
                  height: '4'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Magvice - Postfix'
                        name: 'Postfix: Mail Throughput Bytes'
                    - type: STRING
                      name: reference
                      value: AAAAD
                - type: graph
                  x: '24'
                  'y': '10'
                  width: '24'
                  height: '4'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Magvice - Postfix'
                        name: 'Postfix: CPU utilization'
                    - type: STRING
                      name: reference
                      value: AAAAE
                - type: item
                  name: 'Memory usage'
                  x: '27'
                  width: '9'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: description
                      value: 'Memory usage'
                    - type: STRING
                      name: down_color
                      value: 81C784
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Magvice - Postfix'
                        key: 'proc.mem[,{$POSTFIX_USER}]'
                    - type: STRING
                      name: up_color
                      value: EF9A9A
                - type: item
                  name: 'Incoming queue'
                  x: '36'
                  width: '6'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 558B2F
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Queue: Incoming'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Magvice - Postfix'
                        key: postfix.queue.incoming
                    - type: INTEGER
                      name: units_bold
                      value: '0'
                    - type: INTEGER
                      name: units_show
                      value: '0'
                - type: item
                  name: 'Maildrop queue'
                  x: '42'
                  width: '6'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: STRING
                      name: bg_color
                      value: 558B2F
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Queue: Maildrop'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Magvice - Postfix'
                        key: postfix.queue.maildrop
                    - type: INTEGER
                      name: units_bold
                      value: '0'
                    - type: INTEGER
                      name: units_show
                      value: '0'
                - type: graph
                  x: '42'
                  'y': '2'
                  width: '15'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Magvice - Postfix'
                        name: 'Postfix: Mail Troughput Detail Pie'
                    - type: STRING
                      name: reference
                      value: AAAAF
                - type: item
                  name: 'Active queue'
                  x: '48'
                  width: '6'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Queue: Active'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Magvice - Postfix'
                        key: postfix.queue.active
                    - type: STRING
                      name: thresholds.0.color
                      value: 558B2F
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: FF6F00
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '40'
                    - type: STRING
                      name: thresholds.2.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '51'
                    - type: INTEGER
                      name: units_bold
                      value: '0'
                    - type: INTEGER
                      name: units_show
                      value: '0'
                - type: graph
                  x: '48'
                  'y': '10'
                  width: '24'
                  height: '4'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Magvice - Postfix'
                        name: 'Postfix: Memory usage'
                    - type: STRING
                      name: reference
                      value: AAAAG
                - type: item
                  name: 'Deferred queue'
                  x: '54'
                  width: '6'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Queue: Deferred'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Magvice - Postfix'
                        key: postfix.queue.deferred
                    - type: STRING
                      name: thresholds.0.color
                      value: 558B2F
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: FF8F00
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '1'
                    - type: STRING
                      name: thresholds.2.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '50'
                    - type: INTEGER
                      name: units_bold
                      value: '0'
                    - type: INTEGER
                      name: units_show
                      value: '0'
                - type: graph
                  name: 'Deferred mail details'
                  x: '57'
                  'y': '2'
                  width: '15'
                  height: '8'
                  fields:
                    - type: GRAPH
                      name: graphid
                      value:
                        host: 'Magvice - Postfix'
                        name: 'Postfix: Mail Deferred Detail Pie'
                    - type: STRING
                      name: reference
                      value: AAAAH
                - type: item
                  name: 'Hold queue'
                  x: '60'
                  width: '6'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Queue: Hold'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Magvice - Postfix'
                        key: postfix.queue.hold
                    - type: STRING
                      name: thresholds.0.color
                      value: 558B2F
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: FF8F00
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '1'
                    - type: STRING
                      name: thresholds.2.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.2.threshold
                      value: '200'
                    - type: INTEGER
                      name: units_bold
                      value: '0'
                    - type: INTEGER
                      name: units_show
                      value: '0'
                - type: item
                  name: 'Corrupt queue'
                  x: '66'
                  width: '6'
                  hide_header: 'YES'
                  fields:
                    - type: INTEGER
                      name: adv_conf
                      value: '1'
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: STRING
                      name: description
                      value: 'Queue: Corrupt'
                    - type: ITEM
                      name: itemid
                      value:
                        host: 'Magvice - Postfix'
                        key: postfix.queue.corrupt
                    - type: STRING
                      name: thresholds.0.color
                      value: 558B2F
                    - type: STRING
                      name: thresholds.0.threshold
                      value: '0'
                    - type: STRING
                      name: thresholds.1.color
                      value: FF465C
                    - type: STRING
                      name: thresholds.1.threshold
                      value: '1'
                    - type: INTEGER
                      name: units_bold
                      value: '0'
                    - type: INTEGER
                      name: units_show
                      value: '0'
  graphs:
    - uuid: 13286d0be8da410985e256317e3ec60b
      name: 'Postfix: CPU utilization'
      type: STACKED
      graph_items:
        - color: 1A7C11
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[anvil,{$POSTFIX_USER}]'
        - sortorder: '1'
          color: '274482'
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[bounce,{$POSTFIX_USER}]'
        - sortorder: '2'
          color: F63100
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[cleanup,{$POSTFIX_USER}]'
        - sortorder: '3'
          color: 2774A4
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[flush,{$POSTFIX_USER}]'
        - sortorder: '4'
          color: A54F10
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[local,{$POSTFIX_USER}]'
        - sortorder: '5'
          color: FC6EA3
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[master,root]'
        - sortorder: '6'
          color: 6C59DC
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[pickup,{$POSTFIX_USER}]'
        - sortorder: '7'
          color: AC8C14
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[qmgr,{$POSTFIX_USER}]'
        - sortorder: '8'
          color: 611F27
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[scache,{$POSTFIX_USER}]'
        - sortorder: '9'
          color: F230E0
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[showq,{$POSTFIX_USER}]'
        - sortorder: '10'
          color: 5CCD18
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[smtpd,{$POSTFIX_USER}]'
        - sortorder: '11'
          color: BB2A02
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[smtp,{$POSTFIX_USER}]'
        - sortorder: '12'
          color: 5A2B57
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[tlsmgr,{$POSTFIX_USER}]'
        - sortorder: '13'
          color: 89ABF8
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[trivial-rewrite,{$POSTFIX_USER}]'
        - sortorder: '14'
          color: 7EC25C
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[verify,{$POSTFIX_USER}]'
        - sortorder: '15'
          color: 2B5429
          item:
            host: 'Magvice - Postfix'
            key: 'proc.cpu.util[virtual,{$POSTFIX_USER}]'
    - uuid: 8b31c27551f847a3934ca0112823ab67
      name: 'Postfix: General Mail Stats'
      type: STACKED
      graph_items:
        - color: 1A7C11
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.active
        - sortorder: '1'
          color: F63100
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.bounced
        - sortorder: '2'
          color: BF00FF
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.corrupt
        - sortorder: '3'
          color: FFBF00
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred
        - sortorder: '4'
          color: '891515'
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.hold
        - sortorder: '5'
          color: CC6600
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.incoming
        - sortorder: '6'
          color: 4DB6AC
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.maildrop
        - sortorder: '7'
          color: C62828
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.rejected
        - sortorder: '8'
          color: 00FF00
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.delivered
        - sortorder: '9'
          color: F48FB1
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.discarded
    - uuid: 38a285a5ad9247c9a2e35081a2c0f4b8
      name: 'Postfix: Mail Deferred Detail Pie'
      height: '500'
      yaxismax: '0'
      show_work_period: 'NO'
      show_triggers: 'NO'
      type: PIE
      graph_items:
        - color: 8F2809
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_tlsfailed
        - sortorder: '1'
          color: BF360C
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_crefused
        - sortorder: '2'
          color: E64A19
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_ctimeout
        - sortorder: '3'
          color: FF5722
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_err450
        - sortorder: '4'
          color: EF6C00
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_err451
        - sortorder: '5'
          color: FB8C00
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_err421
        - sortorder: '6'
          color: FFA726
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_err452
        - sortorder: '7'
          color: FFB74D
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_nohost
        - sortorder: '8'
          color: FBC02D
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_ipblocked
        - sortorder: '9'
          color: FFD54F
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_lostc
        - sortorder: '10'
          color: FFEB3B
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_msrefused
        - sortorder: '11'
          color: FFF176
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_noroute
        - sortorder: '12'
          color: FFF59D
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_rtimeout
        - sortorder: '13'
          color: FFECB3
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_err454
        - sortorder: '14'
          color: FFE0B2
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.deferred_err4
        - sortorder: '15'
          color: 2E7D32
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.delivered
    - uuid: 5fa10f5e45444ddc99afc7b88d06539d
      name: 'Postfix: Mail in Queue'
      graph_items:
        - color: 1A7C11
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.size
        - sortorder: '1'
          color: FF0000
          yaxisside: RIGHT
          item:
            host: 'Magvice - Postfix'
            key: postfix.queue.total
    - uuid: 1d7b082e598c4693848b1fe4d1f68a0a
      name: 'Postfix: Mail Throughput'
      type: STACKED
      graph_items:
        - color: FF8000
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.bounced
        - sortorder: '1'
          color: F63100
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.rejected
        - sortorder: '2'
          color: 388E3C
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.delivered
    - uuid: e3570a36dd6145d78a6fcc4b3f85e4d0
      name: 'Postfix: Mail Throughput Bytes'
      graph_items:
        - color: 1A7C11
          item:
            host: 'Magvice - Postfix'
            key: postfix.bytes_delivered
        - sortorder: '1'
          color: '274482'
          item:
            host: 'Magvice - Postfix'
            key: postfix.bytes_received
    - uuid: 9e813a51a10c48c5843436d8c40c50f2
      name: 'Postfix: Mail Troughput Detail Pie'
      height: '500'
      yaxismax: '0'
      show_work_period: 'NO'
      show_triggers: 'NO'
      type: PIE
      graph_items:
        - color: '795548'
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.bounced_554error
        - sortorder: '1'
          color: BF360C
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.bounced_550invalid
        - sortorder: '2'
          color: F4511E
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.bounced_553nonascii
        - sortorder: '3'
          color: F57C00
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.bounced_nullmx
        - sortorder: '4'
          color: FF9800
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.bounced_552toobig
        - sortorder: '5'
          color: FDD835
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.bounced_551noauth
        - sortorder: '6'
          color: FFEB3B
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.bounced_other
        - sortorder: '7'
          color: 6A1B9A
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.rejected_550nouser
        - sortorder: '8'
          color: 8E24AA
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.rejected_454norelay
        - sortorder: '9'
          color: AB47BC
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.rejected_554senderdenied
        - sortorder: '10'
          color: BA68C8
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.rejected_553sendernotuser
        - sortorder: '11'
          color: E1BEE7
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.rejected_other
        - sortorder: '12'
          color: 2E7D32
          type: GRAPH_SUM
          item:
            host: 'Magvice - Postfix'
            key: postfix.mail.received
    - uuid: 15a9c2cf135b4f2baf66c84bb87b7529
      name: 'Postfix: Memory usage'
      type: STACKED
      graph_items:
        - color: 1A7C11
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[anvil,{$POSTFIX_USER}]'
        - sortorder: '1'
          color: '274482'
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[bounce,{$POSTFIX_USER}]'
        - sortorder: '2'
          color: F63100
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[cleanup,{$POSTFIX_USER}]'
        - sortorder: '3'
          color: 2774A4
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[flush,{$POSTFIX_USER}]'
        - sortorder: '4'
          color: A54F10
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[local,{$POSTFIX_USER}]'
        - sortorder: '5'
          color: 6C59DC
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[pickup,{$POSTFIX_USER}]'
        - sortorder: '6'
          color: AC8C14
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[qmgr,{$POSTFIX_USER}]'
        - sortorder: '7'
          color: 611F27
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[scache,{$POSTFIX_USER}]'
        - sortorder: '8'
          color: F230E0
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[showq,{$POSTFIX_USER}]'
        - sortorder: '9'
          color: 5CCD18
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[smtpd,{$POSTFIX_USER}]'
        - sortorder: '10'
          color: BB2A02
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[smtp,{$POSTFIX_USER}]'
        - sortorder: '11'
          color: 5A2B57
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[tlsmgr,{$POSTFIX_USER}]'
        - sortorder: '12'
          color: 89ABF8
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[trivial-rewrite,{$POSTFIX_USER}]'
        - sortorder: '13'
          color: 7EC25C
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[verify,{$POSTFIX_USER}]'
        - sortorder: '14'
          color: 2B5429
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[virtual,{$POSTFIX_USER}]'
        - sortorder: '15'
          color: FC6EA3
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[master,root]'
    - uuid: 42b7c8e1c5d643ce8aba1e0c3a70e601
      name: 'Postfix: Processes'
      type: STACKED
      graph_items:
        - color: '274482'
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[anvil,{$POSTFIX_USER}]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[bounce,{$POSTFIX_USER}]'
        - sortorder: '2'
          color: 2774A4
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[cleanup,{$POSTFIX_USER}]'
        - sortorder: '3'
          color: A54F10
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[flush,{$POSTFIX_USER}]'
        - sortorder: '4'
          color: FC6EA3
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[local,{$POSTFIX_USER}]'
        - sortorder: '5'
          color: 6C59DC
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[pickup,{$POSTFIX_USER}]'
        - sortorder: '6'
          color: AC8C14
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[qmgr,{$POSTFIX_USER}]'
        - sortorder: '7'
          color: 611F27
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[scache,{$POSTFIX_USER}]'
        - sortorder: '8'
          color: F230E0
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[showq,{$POSTFIX_USER}]'
        - sortorder: '9'
          color: 5CCD18
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[smtpd,{$POSTFIX_USER}]'
        - sortorder: '10'
          color: BB2A02
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[smtp,{$POSTFIX_USER}]'
        - sortorder: '11'
          color: 5A2B57
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[trivial-rewrite,{$POSTFIX_USER}]'
        - sortorder: '12'
          color: 89ABF8
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[verify,{$POSTFIX_USER}]'
        - sortorder: '13'
          color: 7EC25C
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[virtual,{$POSTFIX_USER}]'
        - sortorder: '14'
          color: 1A7C11
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[master,root]'
    - uuid: 45656cf77f3b43bba9f909e3d1d24caa
      name: 'Postfix: Processes and Memory'
      graph_items:
        - drawtype: DASHED_LINE
          color: 1A7C11
          yaxisside: RIGHT
          item:
            host: 'Magvice - Postfix'
            key: 'proc.mem[,{$POSTFIX_USER}]'
        - sortorder: '1'
          color: F63100
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[,{$POSTFIX_USER}]'
        - sortorder: '2'
          color: '274482'
          item:
            host: 'Magvice - Postfix'
            key: 'proc.num[master,root]'
